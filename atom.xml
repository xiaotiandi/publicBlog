<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小天地</title>
  
  <subtitle>心安处便是吾乡</subtitle>
  <link href="/publicBlog/atom.xml" rel="self"/>
  
  <link href="https://xiaotiandi.github.io/publicBlog/"/>
  <updated>2018-09-21T08:18:35.813Z</updated>
  <id>https://xiaotiandi.github.io/publicBlog/</id>
  
  <author>
    <name>xiaotiandi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>测试</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2999-12-30-59cdbec3.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2999-12-30-59cdbec3.html</id>
    <published>2999-12-30T04:00:00.000Z</published>
    <updated>2018-09-21T08:18:35.813Z</updated>
    
    <content type="html"><![CDATA[<h2 id="测试"><a class="markdownIt-Anchor" href="#测试"></a> 测试</h2><a href="/publicBlog/2018-08-15-16107.html" title="世界你好！">世界你好！</a>/publicBlog/2018-08-15-16107.html<p>这是摘要(写了上面的description,这里就不起作用啦)</p><a id="more"></a><hr><h2 id="title-hello-worldabbrlink-16107date-2018-08-16-000000"><a class="markdownIt-Anchor" href="#title-hello-worldabbrlink-16107date-2018-08-16-000000"></a> title: Hello World<br>abbrlink: 16107<br>date: 2018-08-16 00:00:00</h2><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3><pre class="highlight"><code class="bash">$ hexo new <span class="string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3><pre class="highlight"><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3><pre class="highlight"><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3><pre class="highlight"><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><!-- ---------------- --><figure class="highlight md"><figcaption><span>hello-world.md</span><a href="/publicBlog/./_posts/hello-world.md">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">abbrlink: 16107</span><br><span class="line">date: 2018-08-16 00:00:00</span><br><span class="line">---</span><br><span class="line">Welcome to [<span class="string">Hexo</span>](<span class="link">https://hexo.io/</span>)! This is your very first post. Check [<span class="string">documentation</span>](<span class="link">https://hexo.io/docs/</span>) for more info. If you get any problems when using Hexo, you can find the answer in [<span class="string">troubleshooting</span>](<span class="link">https://hexo.io/docs/troubleshooting.html</span>) or you can ask me on [<span class="string">GitHub</span>](<span class="link">https://github.com/hexojs/hexo/issues</span>).</span><br><span class="line"></span><br><span class="line"><span class="section">## Quick Start</span></span><br><span class="line"></span><br><span class="line"><span class="section">### Create a new post</span></span><br><span class="line"></span><br><span class="line"><span class="code">``` bash</span></span><br><span class="line"><span class="code">$ hexo new "My New Post"</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">More info: [<span class="string">Writing</span>](<span class="link">https://hexo.io/docs/writing.html</span>)</span><br><span class="line"></span><br><span class="line"><span class="section">### Run server</span></span><br><span class="line"></span><br><span class="line"><span class="code">``` bash</span></span><br><span class="line"><span class="code">$ hexo server</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">More info: [<span class="string">Server</span>](<span class="link">https://hexo.io/docs/server.html</span>)</span><br><span class="line"></span><br><span class="line"><span class="section">### Generate static files</span></span><br><span class="line"></span><br><span class="line"><span class="code">``` bash</span></span><br><span class="line"><span class="code">$ hexo generate</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">More info: [<span class="string">Generating</span>](<span class="link">https://hexo.io/docs/generating.html</span>)</span><br><span class="line"></span><br><span class="line"><span class="section">### Deploy to remote sites</span></span><br><span class="line"></span><br><span class="line"><span class="code">``` bash</span></span><br><span class="line"><span class="code">$ hexo deploy</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">More info: [<span class="string">Deployment</span>](<span class="link">https://hexo.io/docs/deployment.html</span>)</span><br></pre></td></tr></table></figure><div style="margin-top: -20px;"><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div><div class="fold"><p>hahah<br>hfhadfh<br>fadfh</p></div><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div></div><h2 id="测试tag-plugins"><a class="markdownIt-Anchor" href="#测试tag-plugins"></a> <a href="https://hexo.io/docs/tag-plugins" target="_blank" rel="noopener">测试Tag Plugins</a></h2><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p><footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote><blockquote><p>NEW: DevDocs now comes with syntax highlighting. <a href="http://devdocs.io" target="_blank" rel="noopener">http://devdocs.io</a></p><footer><strong>@DevDocs</strong><cite><a href="https://twitter.com/devdocs/status/356095192085962752" target="_blank" rel="noopener">twitter.com/devdocs/status/356095192085962752</a></cite></footer></blockquote><blockquote><p>NEW: DevDocs now comes with syntax highlighting. <a href="http://devdocs.io" target="_blank" rel="noopener">http://devdocs.io</a></p><footer><strong>@DevDocs</strong><cite><a href="https://twitter.com/devdocs/status/356095192085962752" target="_blank" rel="noopener">twitter.com/devdocs/status/356095192085962752</a></cite></footer></blockquote> 123 <div class="tabs" id=""><ul class="nav-tabs"></ul><div class="tab-content"></div></div><blockquote class="blockquote-center"><p>123<br>789</p></blockquote><div class="note "><p>123</p><div class="note "><p>890<br>76</p></div>456</div><div style="margin-top: -20px;"><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div><div class="fold"><p>something you want to fold, include code block.<br>something you want to fold, include code block.<br>something you want to fold, include code block.<br>something you want to fold, include code block.<br>something you want to fold, include code block.<br>something you want to fold, include code block.<br>something you want to fold, include code block.<br>something you want to fold, include code block.</p></div><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;测试&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#测试&quot;&gt;&lt;/a&gt; 测试&lt;/h2&gt;
&lt;a href=&quot;/publicBlog/2018-08-15-16107.html&quot; title=&quot;世界你好！&quot;&gt;世界你好！&lt;/a&gt;
/publicBlog/2018-08-15-16107.html
&lt;p&gt;这是摘要(写了上面的description,这里就不起作用啦)&lt;/p&gt;
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="docker" scheme="https://xiaotiandi.github.io/publicBlog/tags/docker/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-11-20-0.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-11-20-0.html</id>
    <published>2018-11-20T05:03:15.028Z</published>
    <updated>2018-11-20T05:03:15.028Z</updated>
    
    <content type="html"><![CDATA[<!DOCTYPE html><html><head>      <title>&#x5982;&#x4F55;&#x4F7F;&#x7528;ledong&#x7684;Docker&#x955C;&#x50CF;</title>      <meta charset="utf-8">      <meta name="viewport" content="width=device-width, initial-scale=1.0">            <link rel="stylesheet" href="file:////home/ledong/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.3.11/node_modules/@shd101wyy/mume/dependencies/katex/katex.min.css">                                                            <style>       /** * prism.js Github theme based on GitHub's theme. * @author Sam Clarke */code[class*="language-"],pre[class*="language-"] {  color: #333;  background: none;  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;  text-align: left;  white-space: pre;  word-spacing: normal;  word-break: normal;  word-wrap: normal;  line-height: 1.4;  -moz-tab-size: 8;  -o-tab-size: 8;  tab-size: 8;  -webkit-hyphens: none;  -moz-hyphens: none;  -ms-hyphens: none;  hyphens: none;}/* Code blocks */pre[class*="language-"] {  padding: .8em;  overflow: auto;  /* border: 1px solid #ddd; */  border-radius: 3px;  /* background: #fff; */  background: #f5f5f5;}/* Inline code */:not(pre) > code[class*="language-"] {  padding: .1em;  border-radius: .3em;  white-space: normal;  background: #f5f5f5;}.token.comment,.token.blockquote {  color: #969896;}.token.cdata {  color: #183691;}.token.doctype,.token.punctuation,.token.variable,.token.macro.property {  color: #333;}.token.operator,.token.important,.token.keyword,.token.rule,.token.builtin {  color: #a71d5d;}.token.string,.token.url,.token.regex,.token.attr-value {  color: #183691;}.token.property,.token.number,.token.boolean,.token.entity,.token.atrule,.token.constant,.token.symbol,.token.command,.token.code {  color: #0086b3;}.token.tag,.token.selector,.token.prolog {  color: #63a35c;}.token.function,.token.namespace,.token.pseudo-element,.token.class,.token.class-name,.token.pseudo-class,.token.id,.token.url-reference .token.variable,.token.attr-name {  color: #795da3;}.token.entity {  cursor: help;}.token.title,.token.title .token.punctuation {  font-weight: bold;  color: #1d3e81;}.token.list {  color: #ed6a43;}.token.inserted {  background-color: #eaffea;  color: #55a532;}.token.deleted {  background-color: #ffecec;  color: #bd2c00;}.token.bold {  font-weight: bold;}.token.italic {  font-style: italic;}/* JSON */.language-json .token.property {  color: #183691;}.language-markup .token.tag .token.punctuation {  color: #333;}/* CSS */code.language-css,.language-css .token.function {  color: #0086b3;}/* YAML */.language-yaml .token.atrule {  color: #63a35c;}code.language-yaml {  color: #183691;}/* Ruby */.language-ruby .token.function {  color: #333;}/* Markdown */.language-markdown .token.url {  color: #795da3;}/* Makefile */.language-makefile .token.symbol {  color: #795da3;}.language-makefile .token.variable {  color: #183691;}.language-makefile .token.builtin {  color: #0086b3;}/* Bash */.language-bash .token.keyword {  color: #0086b3;}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}/* Please visit the URL below for more information: *//*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */       </style>    </head>    <body for="html-export">      <div class="mume markdown-preview   ">      <ul><li><a href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8ledong%E7%9A%84docker%E9%95%9C%E5%83%8F">&#x5982;&#x4F55;&#x4F7F;&#x7528;<code>ledong</code>&#x7684;Docker&#x955C;&#x50CF;</a><ul><li><a href="#%E8%AF%B4%E6%98%8E">&#x8BF4;&#x660E;</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%BB%A5export_dataanaweb20181115tar%E8%BF%90%E8%A1%8Cdataanaweb%E9%A1%B9%E7%9B%AE%E4%B8%BA%E4%BE%8B">&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x2014;&#x2014;&#x4EE5;<code>export_DataAnaWeb20181115.tar</code>&#x8FD0;&#x884C;DataAnaWeb&#x9879;&#x76EE;&#x4E3A;&#x4F8B;</a></li><li><a href="#%E5%A6%82%E4%BD%95%E5%9F%BA%E4%BA%8E%E6%9C%AC%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E9%95%9C%E5%83%8F%E4%BB%A5save_releasetar%E5%AE%89%E8%A3%85%E6%96%B0%E7%8E%AF%E5%A2%83%E4%B8%BA%E4%BE%8B">&#x5982;&#x4F55;&#x57FA;&#x4E8E;&#x672C;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x955C;&#x50CF;&#x2014;&#x2014;&#x4EE5;<code>save_release.tar</code>&#x5B89;&#x88C5;&#x65B0;&#x73AF;&#x5883;&#x4E3A;&#x4F8B;</a></li><li><a href="#%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</a></li><li><a href="#%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E4%B8%AD%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4">&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x4E2D;&#x4E00;&#x4E9B;&#x6709;&#x7528;&#x7684;&#x547D;&#x4EE4;</a></li></ul></li></ul><h1 class="mume-header" id="%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8ledong%E7%9A%84docker%E9%95%9C%E5%83%8F">&#x5982;&#x4F55;&#x4F7F;&#x7528;<code>ledong</code>&#x7684;Docker&#x955C;&#x50CF;</h1><h2 class="mume-header" id="%E8%AF%B4%E6%98%8E">&#x8BF4;&#x660E;</h2><ul><li>&#x955C;&#x50CF;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;<code>/data/dockerdata/images/</code>&#x6216;&#x8005;232&#x670D;&#x52A1;&#x5668;&#x4E0A;<code>/datadisk/shared/ledong/mydockerImages/</code>&#x76EE;&#x5F55;&#x91CC;&#x3002;</li><li>&#x4E24;&#x4E2A;&#x955C;&#x50CF;&#xFF1A;<code>save_release.tar</code>&#x8FD9;&#x4E2A;&#x6CA1;&#x6709;&#x914D;R&#x73AF;&#x5883;&#x548C;Web&#x73AF;&#x5883;&#xFF0C;<code>export_DataAnaWeb20181115.tar</code>&#x914D;&#x7F6E;&#x597D;&#x4E86;&#x5168;&#x90E8;&#x7684;&#x73AF;&#x5883;&#x3002;&#x800C;&#x4E14;&#x4E24;&#x4E2A;&#x7684;&#x52A0;&#x8F7D;&#x65B9;&#x5F0F;&#x4E0D;&#x4E00;&#x6837;&#xFF1A;</li></ul><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment">## &#x52A0;&#x8F7D;&#x955C;&#x50CF;`release:latest`,&#x540D;&#x5B57;&#x6539;&#x4E0D;&#x4E86;</span><span class="token function">sudo</span> docker load  -i  save_release.tar</pre><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment">## &#x52A0;&#x8F7D;&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x547D;&#x540D;&#xFF0C;&#x6BD4;&#x5982;`data_ana_web`</span><span class="token function">sudo</span> docker <span class="token function">import</span>  ./export_DataAnaWeb20181115.tar data_ana_web</pre><ul><li><p>&#x672C;&#x955C;&#x50CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x6709;&#x4E09;&#x4E2A;&#x8D26;&#x6237;&#xFF1A;<code>root(pw: LeDong111111)</code>&#x3001;<code>ld(pw: 111111)</code>&#x3001;<code>guest(pw: 111111)</code>&#xFF0C;&#x5176;&#x4E2D;ld&#x6709;sudo&#x6743;&#x9650;&#xFF0C;guest&#x662F;&#x5BF9;&#x5916;&#x670D;&#x52A1;&#x8D26;&#x53F7;&#x3002;</p></li><li><p>&#x672C;&#x955C;&#x50CF;&#xFF0C;&#x914D;&#x7F6E;&#x4E86;&#x4E09;&#x4E2A;&#x73AF;&#x5883;&#xFF1A;</p><ul><li>/home/guest/.conda/envs/DataAnaWeb(&#x53EA;&#x5B58;&#x5728;&#x4E8E;<code>export_DataAnaWeb20181115.tar</code>)</li><li>/opt/conda</li><li>/opt/conda/envs/ld20180607py365r343</li></ul></li><li><p>&#x672C;&#x955C;&#x50CF;&#xFF0C;&#x5B89;&#x88C5;&#x4E86;&#x5982;&#x4E0B;&#x4E1C;&#x897F;&#xFF1A;</p><ul><li>&#x57FA;&#x672C;&#x7684;ubuntu</li><li>&#x4E09;&#x4E2A;&#x8D26;&#x6237;&#xFF08;&#x89C1;&#x4E0A;&#x9762;&#xFF09;</li><li>texlive-full&#x3001;Mysql&#x3001;R&#x3001;Conda</li></ul></li><li><p>&#x5EFA;&#x8BAE;&#x7528;guest&#x8D26;&#x6237;&#x91CC;&#x7684;DataAnaWeb&#x865A;&#x73AF;&#x5883;&#x8FD0;&#x884C;&#xFF0C;&#x5B89;&#x88C5;&#x7684;&#x7A0B;&#x5E8F;&#x4E5F;&#x653E;&#x5728;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#x91CC;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;root&#x6743;&#x9650;&#xFF0C;&#x518D;&#x7528;ld&#x8D26;&#x6237;&#x7684;sudo&#x3002;</p></li><li><p>&#x5148;&#x4FDD;&#x8BC1;Docker&#x80FD;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x3002;&#x5728;Centos&#x6216;Ubuntu&#x4E2D;&#x82E5;&#x51FA;&#x73B0;&#x9519;&#x8BEF;<code>Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?</code>&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#xFF1A;</p></li></ul><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> systemctl restart docker.service</pre><ul><li>&#x4EE5;&#x4E0B;&#x5728;Centos7&#x548C;Ubuntu16:04&#x4E0A;&#x8FD0;&#x884C;&#x6210;&#x529F;&#xFF0C;CPU&#x662F;4&#x6838;&#x4EE5;&#x4E0A;&#xFF0C;&#x5185;&#x5B58;12G&#x4EE5;&#x4E0A;&#xFF08;&#x5B9E;&#x9645;&#x914D;&#x7F6E;&#x53EF;&#x80FD;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x4E48;&#x9AD8;&#xFF09;&#x3002;</li></ul><h2 class="mume-header" id="%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%BB%A5export_dataanaweb20181115tar%E8%BF%90%E8%A1%8Cdataanaweb%E9%A1%B9%E7%9B%AE%E4%B8%BA%E4%BE%8B">&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x2014;&#x2014;&#x4EE5;<code>export_DataAnaWeb20181115.tar</code>&#x8FD0;&#x884C;DataAnaWeb&#x9879;&#x76EE;&#x4E3A;&#x4F8B;</h2><p>&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x52A0;&#x8F7D;&#x955C;&#x50CF;&#xFF0C;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x4E24;&#x4E09;&#x5206;&#x949F;&#x2014;&#x2014;&#x56E0;&#x4E3A;&#x6709;10-20G&#x3002;&#xFF0C;&#x5F97;&#x5230;&#x955C;&#x50CF;<code>data_ana_web</code>&#xFF1A;</p><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment">## &#x52A0;&#x8F7D;&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x547D;&#x540D;&#xFF0C;&#x6BD4;&#x5982;`data_ana_web`</span><span class="token function">sudo</span> docker <span class="token function">import</span>  ./export_DataAnaWeb20181115.tar data_ana_web</pre><p>&#x7B2C;&#x4E8C;&#x6B65;&#xFF0C;&#x7528;&#x955C;&#x50CF;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x5E76;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x3002;&#x5047;&#x8BBE;&#x9879;&#x76EE;&#x6587;&#x4EF6;&#x5728;&#x6587;&#x4EF6;&#x5939;<code>example_DataAnaWeb/DataAnaWeb/</code>&#x3002;&#x5982;&#x679C;&#x8FD0;&#x884C;&#x6709;&#x8BEF;&#xFF0C;&#x8BF7;&#x6309;&#x7167;&#x5176;&#x4E2D;&#x7684;<code>run.sh</code>&#x6587;&#x4EF6;&#x663E;&#x793A;&#x7684;&#x6B65;&#x9AA4;&#x6765;&#x8C03;&#x8BD5;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x9519;&#xFF0C;&#x7B49;&#x51E0;&#x5341;&#x79D2;&#xFF0C;&#x5373;&#x53EF;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;&#x7F51;&#x5740;<code>http://172.18.98.232:9000/login/</code>&#x67E5;&#x770B;&#x3002;</p><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> docker <span class="token function">rm</span> -f DataAnaWeb<span class="token punctuation">;</span><span class="token function">sudo</span> docker run -it --name <span class="token string">&quot;DataAnaWeb&quot;</span> -d -v <span class="token variable">$PWD</span>/example_DataAnaWeb/:/home/guest/savedata/ --privileged<span class="token operator">=</span>true -e LANG<span class="token operator">=</span>C.UTF-8 -p 9000:8000 data_ana_web /bin/bash -c <span class="token string">&quot;cd /home/guest/savedata/DataAnaWeb; bash run.sh; bash&quot;</span></pre><ul><li><code>-it</code> &#x4F7F;&#x5F97;&#x5BA2;&#x6237;&#x7AEF;&#x6709;&#x4EA4;&#x4E92;&#x3002;</li><li><code>--name</code> &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x540D;&#x3002;</li><li><code>-d</code> &#x76F4;&#x63A5;&#x8FD0;&#x884C;&#x5B8C;&#x8FD4;&#x56DE;&#x5BB9;&#x5668;&#x7684;id&#x3002;</li><li><code>-v</code> &#x8FD9;&#x91CC;&#x628A;<code>example_DataAnaWeb/</code>&#x6587;&#x4EF6;&#x5939;&#x52A0;&#x8F7D;&#x5230;Docke&#x91CC;&#x7684;<code>/home/guest/savedata/</code>&#xFF1B;</li><li><code>--privileged=true</code> &#x89E3;&#x51B3;<code>-v</code>&#x53C2;&#x6570;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF;<code>cannot open directory</code>&#xFF08;<a href="https://blog.csdn.net/rznice/article/details/52170085" target="_blank" rel="noopener">&#x53C2;&#x8003;</a>&#xFF09;&#x3002;&#x4F7F;&#x7528;&#x8BE5;&#x53C2;&#x6570;&#xFF0C;container&#x5185;&#x7684;root&#x62E5;&#x6709;&#x771F;&#x6B63;&#x7684;root&#x6743;&#x9650;&#xFF08;<a href="https://blog.csdn.net/halcyonbaby/article/details/43499409" target="_blank" rel="noopener">&#x53C2;&#x8003;</a>&#xFF09;&#x3002;</li><li><code>-e</code> &#x7CFB;&#x7EDF;&#x7684;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x3002;</li><li><code>-p</code> &#x8FD9;&#x91CC;&#x628A;&#x7CFB;&#x7EDF;&#x7684;<code>9000</code>&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;Docker&#x5BB9;&#x5668;&#x7684;<code>8000</code>&#x7AEF;&#x53E3;&#x2014;&#x2014;&#x5373;&#x6211;&#x4EEC;<code>DataAnaWeb</code>&#x670D;&#x52A1;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x9875;&#x8BBF;&#x95EE;&#x5566;&#x3002;</li><li><code>/bin/bash -c &quot;&quot;</code> &#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x540E;&#x6267;&#x884C;&#x7684;&#x6307;&#x4EE4;&#x3002;</li></ul><blockquote><dl><dt>&#x6CE8;&#x610F;</dt><dd>&#x4EE5;&#x4E0A;&#x5728;Centos7&#x4E2D;&#x6CA1;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5728;Ubuntu16:04&#x4E2D;&#xFF0C;&#x8FD0;&#x884C;MySQL&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;<code>/usr/sbin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: Permission denied</code>&#x3002;&#x6309;&#x7167;<a href="https://github.com/moby/moby/issues/5430" target="_blank" rel="noopener">&#x7F51;&#x4E0A;&#x8BB0;&#x8F7D;</a>&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x4E0D;&#x8981;<code>--privileged</code>&#x53C2;&#x6570;&#xFF0C;&#x65B9;&#x6848;&#x53EF;&#x884C;&#x3002;&#x4F46;&#x5373;&#x4FBF;&#x5982;&#x6B64;&#xFF0C;&#x8FD0;&#x884C;&#x547D;&#x4EE4;<code>ls -l /usr/lib</code>&#x6216;&#x8005;<code>ls -l /lib/x86_64-linux-gnu/</code>&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x6240;&#x6709;&quot;.so&quot;&#x6587;&#x4EF6;&#x8FD8;&#x662F;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x9519;&#x8BEF;&#x4E86;&#x3002;&#x539F;&#x56E0;&#x4E0D;&#x8BE6;&#x2026;&#x2026;</dd></dl></blockquote><p>&#x7B2C;&#x4E09;&#x6B65;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x4EE5;&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x67E5;&#x770B;&#xFF1A;</p><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> docker <span class="token function">exec</span> -it DataAnaWeb /bin/bash -c <span class="token string">&quot;cd /home/guest/savedata/; bash&quot;</span></pre><h2 class="mume-header" id="%E5%A6%82%E4%BD%95%E5%9F%BA%E4%BA%8E%E6%9C%AC%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E9%95%9C%E5%83%8F%E4%BB%A5save_releasetar%E5%AE%89%E8%A3%85%E6%96%B0%E7%8E%AF%E5%A2%83%E4%B8%BA%E4%BE%8B">&#x5982;&#x4F55;&#x57FA;&#x4E8E;&#x672C;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x955C;&#x50CF;&#x2014;&#x2014;&#x4EE5;<code>save_release.tar</code>&#x5B89;&#x88C5;&#x65B0;&#x73AF;&#x5883;&#x4E3A;&#x4F8B;</h2><p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8981;&#x4E3A;DataAnaWeb&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x5B89;&#x88C5;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#xFF0C;&#x5047;&#x8BBE;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x5728;&#x6587;&#x4EF6;&#x5939;<code>example_DataAnaWeb/installEnv/</code>&#x3002;</p><p>&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x52A0;&#x8F7D;&#x955C;&#x50CF;&#xFF0C;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x5206;&#x5206;&#x949F;&#x2014;&#x2014;&#x56E0;&#x4E3A;&#x6709;10-20G&#x3002;&#xFF0C;&#x5F97;&#x5230;&#x955C;&#x50CF;<code>release:latest</code>&#xFF1A;</p><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> docker load  -i  save_release.tar</pre><ul><li>&#x8FD9;&#x4E00;&#x6B65;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0A;&#x9762;&#x7684;&#x5C0F;&#x8282;&#xFF0C;&#x52A0;&#x8F7D;<code>export_DataAnaWeb20181115.tar</code>&#x4E3A;<code>release</code>&#xFF0C;&#x5728;&#x5176;&#x57FA;&#x7840;&#x4E0A;&#x5B89;&#x88C5;&#x65B0;&#x73AF;&#x5883;&#x3002;</li></ul><p>&#x7B2C;&#x4E8C;&#x6B65;&#xFF0C;&#x8FD0;&#x884C;&#x955C;&#x50CF;<code>release</code>&#xFF1A;</p><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment">##### &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x5148;&#x5220;&#x9664;</span><span class="token comment">###sudo docker ps -a | grep release</span><span class="token comment">###sudo docker stop release</span><span class="token comment">###sudo docker rm release</span><span class="token function">sudo</span> docker run -it -v <span class="token variable">$PWD</span>/example_DataAnaWeb/:/home/guest/savedata/ --privileged<span class="token operator">=</span>true -e LANG<span class="token operator">=</span>C.UTF-8 release /bin/bash</pre><p>&#x7B2C;&#x4E09;&#x6B65;&#xFF0C;&#x5B89;&#x88C5;&#x4E1C;&#x897F;&#xFF1A;</p><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">cd</span> /home/guest/savedata/installEnv/<span class="token function">bash</span> run.sh</pre><ul><li>&#x6309;&#x4E0A;&#x4E00;&#x6B65;&#x505A;&#x7684;&#x8BDD;&#xFF0C;&#x8FDB;&#x5165;<code>/home/guest/savedata/</code>&#x5176;&#x5B9E;&#x5C31;&#x662F;<code>example_DataAnaWeb/</code>&#x6587;&#x4EF6;&#x5939;&#x5566;&#x3002;</li><li>&#x7528;guest&#x8D26;&#x6237;&#xFF0C;&#x5728;<code>DataAnaWeb</code>&#x865A;&#x73AF;&#x5883;&#x4E0B;&#x9762;&#xFF0C;&#x5B89;&#x88C5;&#x9700;&#x8981;&#x7684;R&#x5305;&#x65F6;&#xFF0C;&#x6709;&#x7684;R&#x5305;&#x5B89;&#x88C5;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x4E0D;&#x5F71;&#x54CD;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x5305;&#x90FD;&#x80FD;&#x88C5;&#x4E0A;&#x4E86;&#xFF0C;&#x5C31;&#x591F;&#x4E86;&#x3002;</li><li>&#x5982;&#x679C;&#x9700;&#x8981;root&#x6743;&#x9650;&#xFF0C;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;ld&#x8D26;&#x6237;&#xFF0C;&#x6BD4;&#x5982;&#x8981;&#x7528;<code>sudo apt-get install ...</code>&#xFF08;&#x4F7F;&#x7528;apt-get&#x5148;&#x66F4;&#x65B0;<code>sudo apt-get update</code>&#xFF09;&#x3002;</li></ul><p>&#x7B2C;&#x56DB;&#x6B65;&#xFF0C;&#x4FDD;&#x5B58;&#x5BB9;&#x5668;&#x4E3A;&#x672C;&#x5730;&#x955C;&#x50CF;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FD8;&#x662F;&#x8981;&#x7B49;&#x4E24;&#x4E09;&#x5206;&#x949F;&#xFF1A;</p><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> docker <span class="token function">export</span> -o ./export_DataAnaWeb.tar <span class="token operator">&lt;</span>CONTAINER ID OR NAME<span class="token operator">&gt;</span><span class="token comment">##### &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x662F;&#x6301;&#x4E45;&#x5316;&#x5BB9;&#x5668;&#xFF0C;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x662F;&#x6301;&#x4E45;&#x5316;&#x955C;&#x50CF;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;</span><span class="token comment">###sudo docker save -o ./save_release20181113.tar release</span></pre><ul><li>&#x5176;&#x4E2D;<code>&lt;CONTAINER ID OR NAME&gt;</code>&#x53EF;&#x4EE5;&#x7528;&#x547D;&#x4EE4;<code>sudo docker ps -a</code>&#x67E5;&#x770B;&#x5230;&#x3002;</li></ul><h2 class="mume-header" id="%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h2><ul><li>&#x955C;&#x50CF;&#x91CC;&#x5DF2;&#x7ECF;&#x6709;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x53EA;&#x80FD;&#x6539;&#xFF0C;&#x6CA1;&#x6CD5;&#x5220;&#x9664;&#x2014;&#x2014;&#x5C31;&#x7B97;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x4E0B;&#x6B21;&#x6253;&#x5F00;&#x5BB9;&#x5668;&#x8FD8;&#x5728;&#xFF01;&#x7528;rm&#x547D;&#x4EE4;&#x5F3A;&#x5236;&#x5220;&#x9664;&#x65E0;&#x6548;&#xFF0C;&#x5927;&#x5BB6;&#x4E0D;&#x8981;&#x767D;&#x8D39;&#x529B;&#x6C14;&#x3002;</li><li>&#x4E00;&#x822C;&#x6240;&#x6709;&#x4FDD;&#x7559;&#x6570;&#x636E;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5EFA;&#x8BAE;&#x653E;&#x5728;/home/yourUserName/&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x628A;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x3002;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x8BED;&#x53E5;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#xFF1A;</li></ul><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> docker run -it --rm -v ~/tmp/:/home/guest/savedata/ -e LANG<span class="token operator">=</span>C.UTF-8 release</pre><ul><li>&#x8981;&#x6CE8;&#x610F;&#x6743;&#x9650;&#x548C;&#x62E5;&#x6709;&#x8005;&#x3002;&#x6BD4;&#x5982;&#x4E0A;&#x9762;&#x6302;&#x8F7D;&#x7684;<code>~/tmp/</code>&#x5BF9;&#x5E94;&#x7684;<code>/home/guest/savedata/</code>&#x7684;&#x62E5;&#x6709;&#x8005;&#xFF0C;&#x4E00;&#x822C;&#x548C;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x4E00;&#x81F4;&#xFF0C;&#x5728;Docker&#x91CC;&#x7684;guest&#x8D26;&#x53F7;&#x672A;&#x5FC5;&#x6709;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#xFF0C;&#x800C;&#x5728;Docker&#x91CC;&#x66F4;&#x6539;&#x4E86;&#x62E5;&#x6709;&#x8005;&#x7684;&#x8BDD;&#xFF0C;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x62E5;&#x6709;&#x8005;&#x7B49;&#x4E5F;&#x4F1A;&#x53D8;&#x3002;&#x66F4;&#x6539;&#x62E5;&#x6709;&#x8005;&#x548C;&#x6743;&#x9650;&#x7684;&#x547D;&#x4EE4;&#xFF1A;</li></ul><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> <span class="token function">chown</span> -R guest <span class="token operator">&lt;</span>dir or file<span class="token operator">&gt;</span> <span class="token comment"># &#x6539;&#x62E5;&#x6709;&#x8005;</span><span class="token function">sudo</span> <span class="token function">chgrp</span> -R <span class="token function">users</span> <span class="token operator">&lt;</span>dir or file<span class="token operator">&gt;</span> <span class="token comment"># &#x6539;&#x7EC4;&#x522B;</span><span class="token function">sudo</span> <span class="token function">chmod</span> -R 755   <span class="token operator">&lt;</span>dir or file<span class="token operator">&gt;</span> <span class="token comment"># &#x6539;&#x6743;&#x9650;</span></pre><h2 class="mume-header" id="%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E4%B8%AD%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4">&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x4E2D;&#x4E00;&#x4E9B;&#x6709;&#x7528;&#x7684;&#x547D;&#x4EE4;</h2><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment">###### &#x67E5;&#x770B;</span><span class="token function">sudo</span> docker <span class="token function">history</span> <span class="token operator">&lt;</span>ID<span class="token operator">&gt;</span><span class="token function">sudo</span> docker <span class="token function">ps</span> -a<span class="token function">sudo</span> docker system <span class="token function">df</span><span class="token function">sudo</span> docker system prune -a<span class="token function">sudo</span> docker images <span class="token operator">&lt;</span>image<span class="token operator">&gt;</span><span class="token comment">###### &#x5BB9;&#x5668;&#x5907;&#x4EFD;&#x5230;&#x955C;&#x50CF;</span><span class="token function">sudo</span> docker commit  <span class="token operator">&lt;</span>CONTAINER ID<span class="token operator">&gt;</span>  <span class="token punctuation">[</span>imageNewName<span class="token punctuation">]</span><span class="token comment">###### &#x4FDD;&#x5B58;&#x548C;&#x52A0;&#x8F7D;</span><span class="token function">sudo</span> docker save  -o  save.tar <span class="token operator">&lt;</span>image<span class="token operator">&gt;</span><span class="token function">sudo</span> docker load  -i  save.tar<span class="token function">sudo</span> docker <span class="token function">export</span> <span class="token operator">&lt;</span>CONTAINER ID<span class="token operator">&gt;</span> <span class="token operator">&gt;</span> export.tar<span class="token function">sudo</span> docker <span class="token function">export</span> -o export.tar <span class="token operator">&lt;</span>CONTAINER ID OR NAME<span class="token operator">&gt;</span><span class="token function">sudo</span> docker <span class="token function">import</span>  export.tar <span class="token punctuation">[</span>imageNewName<span class="token punctuation">]</span><span class="token comment">###### &#x7528;dockerfile&#x521B;&#x5EFA;</span><span class="token function">sudo</span> docker build -t  release -f ./release.dockerfile  <span class="token keyword">.</span><span class="token comment">###### &#x8FD0;&#x884C;&#x955C;&#x50CF;</span><span class="token function">sudo</span> docker run -it -v ~/tmp/:/home/guest/savedata/ --privileged<span class="token operator">=</span>true -e LANG<span class="token operator">=</span>C.UTF-8 release /bin/bash -c <span class="token string">&quot;cd /home/guest/savedata/; bash&quot;</span><span class="token function">sudo</span> docker run -it --rm -v ~/tmp/:/home/guest/savedata/ --privileged<span class="token operator">=</span>true -e LANG<span class="token operator">=</span>C.UTF-8 release /bin/bash -c <span class="token string">&quot;cd /home/guest/savedata/; bash&quot;</span><span class="token comment">###### &#x8FD0;&#x884C;&#x5DF2;&#x6709;&#x7684;&#x5BB9;&#x5668;</span><span class="token function">sudo</span> docker start <span class="token operator">&lt;</span>CONTAINER ID<span class="token operator">&gt;</span><span class="token function">sudo</span> docker <span class="token function">exec</span> -it <span class="token operator">&lt;</span>CONTAINER ID<span class="token operator">&gt;</span> /bin/bash -c <span class="token string">&quot;cd /home/guest/savedata/; bash&quot;</span></pre>      </div>      <div class="md-sidebar-toc"><ul><li><a href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8ledong%E7%9A%84docker%E9%95%9C%E5%83%8F">&#x5982;&#x4F55;&#x4F7F;&#x7528;<code>ledong</code>&#x7684;Docker&#x955C;&#x50CF;</a><ul><li><a href="#%E8%AF%B4%E6%98%8E">&#x8BF4;&#x660E;</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%BB%A5export_dataanaweb20181115tar%E8%BF%90%E8%A1%8Cdataanaweb%E9%A1%B9%E7%9B%AE%E4%B8%BA%E4%BE%8B">&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x2014;&#x2014;&#x4EE5;<code>export_DataAnaWeb20181115.tar</code>&#x8FD0;&#x884C;DataAnaWeb&#x9879;&#x76EE;&#x4E3A;&#x4F8B;</a></li><li><a href="#%E5%A6%82%E4%BD%95%E5%9F%BA%E4%BA%8E%E6%9C%AC%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E9%95%9C%E5%83%8F%E4%BB%A5save_releasetar%E5%AE%89%E8%A3%85%E6%96%B0%E7%8E%AF%E5%A2%83%E4%B8%BA%E4%BE%8B">&#x5982;&#x4F55;&#x57FA;&#x4E8E;&#x672C;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x955C;&#x50CF;&#x2014;&#x2014;&#x4EE5;<code>save_release.tar</code>&#x5B89;&#x88C5;&#x65B0;&#x73AF;&#x5883;&#x4E3A;&#x4F8B;</a></li><li><a href="#%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</a></li><li><a href="#%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E4%B8%AD%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4">&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x4E2D;&#x4E00;&#x4E9B;&#x6709;&#x7528;&#x7684;&#x547D;&#x4EE4;</a></li></ul></li></ul></div>      <a id="sidebar-toc-btn">&#x2261;</a>                                <script>var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')sidebarTOCBtn.addEventListener('click', function(event) {  event.stopPropagation()  if (document.body.hasAttribute('html-show-sidebar-toc')) {    document.body.removeAttribute('html-show-sidebar-toc')  } else {    document.body.setAttribute('html-show-sidebar-toc', true)  }})</script>            </body></html>]]></content>
    
    <summary type="html">
    
      
      
        &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;
      &lt;title&gt;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;ledong&amp;#x7684;Docker&amp;#x955C;&amp;#x50CF;&lt;/title&gt;
      &lt;meta charset=&quot;u
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>如何使用ledong的Docker镜像</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-11-17-b2a94349.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-11-17-b2a94349.html</id>
    <published>2018-11-17T04:00:00.000Z</published>
    <updated>2018-11-20T05:03:02.212Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h1 id="如何使用ledong的docker镜像"><a class="markdownIt-Anchor" href="#如何使用ledong的docker镜像"></a> 如何使用<code>ledong</code>的Docker镜像</h1><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><ul><li>镜像保存在本地<code>/data/dockerdata/images/</code>或者232服务器上<code>/datadisk/shared/ledong/mydockerImages/</code>目录里。</li><li>两个镜像：<code>save_release.tar</code>这个没有配R环境和Web环境，<code>export_DataAnaWeb20181115.tar</code>配置好了全部的环境。而且两个的加载方式不一样：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 加载镜像`release:latest`,名字改不了</span></span><br><span class="line">sudo docker load  -i  save_release.tar</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 加载镜像可以随意命名，比如`data_ana_web`</span></span><br><span class="line">sudo docker import  ./export_DataAnaWeb20181115.tar data_ana_web</span><br></pre></td></tr></table></figure><ul><li><p>本镜像，默认有三个账户：<code>root(pw: LeDong111111)</code>、<code>ld(pw: 111111)</code>、<code>guest(pw: 111111)</code>，其中ld有sudo权限，guest是对外服务账号。</p></li><li><p>本镜像，配置了三个环境：</p><ul><li>/home/guest/.conda/envs/DataAnaWeb(只存在于<code>export_DataAnaWeb20181115.tar</code>)</li><li>/opt/conda</li><li>/opt/conda/envs/ld20180607py365r343</li></ul></li><li><p>本镜像，安装了如下东西：</p><ul><li>基本的ubuntu</li><li>三个账户（见上面）</li><li>texlive-full、Mysql、R、Conda</li></ul></li><li><p>建议用guest账户里的DataAnaWeb虚环境运行，安装的程序也放在这个环境里。如果需要root权限，再用ld账户的sudo。</p></li><li><p>先保证Docker能正常运行。在Centos或Ubuntu中若出现错误<code>Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?</code>，可以运行：</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart docker.service</span><br></pre></td></tr></table></figure><ul><li>以下在Centos7和Ubuntu16:04上运行成功，CPU是4核以上，内存12G以上（实际配置可能不需要这么高）。</li></ul><h2 id="基本使用以export_dataanaweb20181115tar运行dataanaweb项目为例"><a class="markdownIt-Anchor" href="#基本使用以export_dataanaweb20181115tar运行dataanaweb项目为例"></a> 基本使用——以<code>export_DataAnaWeb20181115.tar</code>运行DataAnaWeb项目为例</h2><p>第一步，加载镜像，需要等待两三分钟——因为有10-20G。，得到镜像<code>data_ana_web</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 加载镜像可以随意命名，比如`data_ana_web`</span></span><br><span class="line">sudo docker import  ./export_DataAnaWeb20181115.tar data_ana_web</span><br></pre></td></tr></table></figure><p>第二步，用镜像运行容器并提供服务。假设项目文件在文件夹<code>example_DataAnaWeb/DataAnaWeb/</code>。如果运行有误，请按照其中的<code>run.sh</code>文件显示的步骤来调试。如果没错，等几十秒，即可在浏览器输入网址<code>http://172.18.98.232:9000/login/</code>查看。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker rm -f DataAnaWeb;</span><br><span class="line">sudo docker run -it --name <span class="string">"DataAnaWeb"</span> -d -v <span class="variable">$PWD</span>/example_DataAnaWeb/:/home/guest/savedata/ --privileged=<span class="literal">true</span> -e LANG=C.UTF-8 -p 9000:8000 data_ana_web /bin/bash -c <span class="string">"cd /home/guest/savedata/DataAnaWeb; bash run.sh; bash"</span></span><br></pre></td></tr></table></figure><ul><li><code>-it</code> 使得客户端有交互。</li><li><code>--name</code> 指定容器名。</li><li><code>-d</code> 直接运行完返回容器的id。</li><li><code>-v</code> 这里把<code>example_DataAnaWeb/</code>文件夹加载到Docke里的<code>/home/guest/savedata/</code>；</li><li><code>--privileged=true</code> 解决<code>-v</code>参数可能出现的错误<code>cannot open directory</code>（<a href="https://blog.csdn.net/rznice/article/details/52170085" target="_blank" rel="noopener">参考</a>）。使用该参数，container内的root拥有真正的root权限（<a href="https://blog.csdn.net/halcyonbaby/article/details/43499409" target="_blank" rel="noopener">参考</a>）。</li><li><code>-e</code> 系统的编码方式。</li><li><code>-p</code> 这里把系统的<code>9000</code>端口映射到Docker容器的<code>8000</code>端口——即我们<code>DataAnaWeb</code>服务的端口，就直接可以通过网页访问啦。</li><li><code>/bin/bash -c &quot;&quot;</code> 用于指定容器运行后执行的指令。</li></ul><blockquote><dl><dt>注意</dt><dd>以上在Centos7中没问题，但是在Ubuntu16:04中，运行MySQL会出现错误<code>/usr/sbin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: Permission denied</code>。按照<a href="https://github.com/moby/moby/issues/5430" target="_blank" rel="noopener">网上记载</a>，解决方案是不要<code>--privileged</code>参数，方案可行。但即便如此，运行命令<code>ls -l /usr/lib</code>或者<code>ls -l /lib/x86_64-linux-gnu/</code>会发现，所有&quot;.so&quot;文件还是没有执行权限，但是没有权限错误了。原因不详……</dd></dl></blockquote><p>第三步，如果有需要，可以以进入容器查看：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker <span class="built_in">exec</span> -it DataAnaWeb /bin/bash -c <span class="string">"cd /home/guest/savedata/; bash"</span></span><br></pre></td></tr></table></figure><h2 id="如何基于本镜像创建新的镜像以save_releasetar安装新环境为例"><a class="markdownIt-Anchor" href="#如何基于本镜像创建新的镜像以save_releasetar安装新环境为例"></a> 如何基于本镜像创建新的镜像——以<code>save_release.tar</code>安装新环境为例</h2><p>比如我们要为DataAnaWeb这个项目安装一些东西，假设安装文件在文件夹<code>example_DataAnaWeb/installEnv/</code>。</p><p>第一步，加载镜像，需要等待分分钟——因为有10-20G。，得到镜像<code>release:latest</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker load  -i  save_release.tar</span><br></pre></td></tr></table></figure><ul><li>这一步，也可以参考上面的小节，加载<code>export_DataAnaWeb20181115.tar</code>为<code>release</code>，在其基础上安装新环境。</li></ul><p>第二步，运行镜像<code>release</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##### 如果已经存在，先删除</span></span><br><span class="line"><span class="comment">###sudo docker ps -a | grep release</span></span><br><span class="line"><span class="comment">###sudo docker stop release</span></span><br><span class="line"><span class="comment">###sudo docker rm release</span></span><br><span class="line">sudo docker run -it -v <span class="variable">$PWD</span>/example_DataAnaWeb/:/home/guest/savedata/ --privileged=<span class="literal">true</span> -e LANG=C.UTF-8 release /bin/bash</span><br></pre></td></tr></table></figure><p>第三步，安装东西：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/guest/savedata/installEnv/</span><br><span class="line">bash run.sh</span><br></pre></td></tr></table></figure><ul><li>按上一步做的话，进入<code>/home/guest/savedata/</code>其实就是<code>example_DataAnaWeb/</code>文件夹啦。</li><li>用guest账户，在<code>DataAnaWeb</code>虚环境下面，安装需要的R包时，有的R包安装不成功，但不影响，主要是我们自己写的包都能装上了，就够了。</li><li>如果需要root权限，可以切换到ld账户，比如要用<code>sudo apt-get install ...</code>（使用apt-get先更新<code>sudo apt-get update</code>）。</li></ul><p>第四步，保存容器为本地镜像，这个还是要等两三分钟：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo docker <span class="built_in">export</span> -o ./export_DataAnaWeb.tar &lt;CONTAINER ID OR NAME&gt;</span><br><span class="line"><span class="comment">##### 上面这个是持久化容器，下面这个是持久化镜像，不能用下面这个</span></span><br><span class="line"><span class="comment">###sudo docker save -o ./save_release20181113.tar release</span></span><br></pre></td></tr></table></figure><ul><li>其中<code>&lt;CONTAINER ID OR NAME&gt;</code>可以用命令<code>sudo docker ps -a</code>查看到。</li></ul><h2 id="容器使用注意事项"><a class="markdownIt-Anchor" href="#容器使用注意事项"></a> 容器使用注意事项</h2><ul><li>镜像里已经有的东西，只能改，没法删除——就算删除了，下次打开容器还在！用rm命令强制删除无效，大家不要白费力气。</li><li>一般所有保留数据的地方，建议放在/home/yourUserName/目录，并把一个本地目录挂载到这个目录。使用如下语句运行容器：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -it --rm -v ~/tmp/:/home/guest/savedata/ -e LANG=C.UTF-8 release</span><br></pre></td></tr></table></figure><ul><li>要注意权限和拥有者。比如上面挂载的<code>~/tmp/</code>对应的<code>/home/guest/savedata/</code>的拥有者，一般和在主机上的一致，在Docker里的guest账号未必有操作权限，而在Docker里更改了拥有者的话，主机上的拥有者等也会变。更改拥有者和权限的命令：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R guest &lt;dir or file&gt; <span class="comment"># 改拥有者</span></span><br><span class="line">sudo chgrp -R users &lt;dir or file&gt; <span class="comment"># 改组别</span></span><br><span class="line">sudo chmod -R 755   &lt;dir or file&gt; <span class="comment"># 改权限</span></span><br></pre></td></tr></table></figure><h2 id="容器使用中一些有用的命令"><a class="markdownIt-Anchor" href="#容器使用中一些有用的命令"></a> 容器使用中一些有用的命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###### 查看</span></span><br><span class="line">sudo docker <span class="built_in">history</span> &lt;ID&gt;</span><br><span class="line">sudo docker ps -a</span><br><span class="line">sudo docker system df</span><br><span class="line">sudo docker system prune -a</span><br><span class="line">sudo docker images &lt;image&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">###### 容器备份到镜像</span></span><br><span class="line">sudo docker commit  &lt;CONTAINER ID&gt;  [imageNewName]</span><br><span class="line"></span><br><span class="line"><span class="comment">###### 保存和加载</span></span><br><span class="line">sudo docker save  -o  save.tar &lt;image&gt;</span><br><span class="line">sudo docker load  -i  save.tar</span><br><span class="line"></span><br><span class="line">sudo docker <span class="built_in">export</span> &lt;CONTAINER ID&gt; &gt; export.tar</span><br><span class="line">sudo docker <span class="built_in">export</span> -o export.tar &lt;CONTAINER ID OR NAME&gt;</span><br><span class="line">sudo docker import  export.tar [imageNewName]</span><br><span class="line"></span><br><span class="line"><span class="comment">###### 用dockerfile创建</span></span><br><span class="line">sudo docker build -t  release -f ./release.dockerfile  .</span><br><span class="line"></span><br><span class="line"><span class="comment">###### 运行镜像</span></span><br><span class="line">sudo docker run -it -v ~/tmp/:/home/guest/savedata/ --privileged=<span class="literal">true</span> -e LANG=C.UTF-8 release /bin/bash -c <span class="string">"cd /home/guest/savedata/; bash"</span></span><br><span class="line">sudo docker run -it --rm -v ~/tmp/:/home/guest/savedata/ --privileged=<span class="literal">true</span> -e LANG=C.UTF-8 release /bin/bash -c <span class="string">"cd /home/guest/savedata/; bash"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###### 运行已有的容器</span></span><br><span class="line">sudo docker start &lt;CONTAINER ID&gt;</span><br><span class="line">sudo docker <span class="built_in">exec</span> -it &lt;CONTAINER ID&gt; /bin/bash -c <span class="string">"cd /home/guest/savedata/; bash"</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      本文介绍如何使用`ledong`的Docker镜像`save_release.tar`和`export_DataAnaWeb20181115.tar`。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="说明文档" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="Docker" scheme="https://xiaotiandi.github.io/publicBlog/tags/Docker/"/>
    
      <category term="Docker镜像" scheme="https://xiaotiandi.github.io/publicBlog/tags/Docker%E9%95%9C%E5%83%8F/"/>
    
      <category term="ledong" scheme="https://xiaotiandi.github.io/publicBlog/tags/ledong/"/>
    
  </entry>
  
  <entry>
    <title>Python3中Django项目遇到UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in ordinal not in range(128)</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-11-16-6d93f12.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-11-16-6d93f12.html</id>
    <published>2018-11-16T04:00:00.000Z</published>
    <updated>2018-11-16T10:11:20.511Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h2><p>Python3中Django项目遇到<code>UnicodeEncodeError: 'ascii' codec can't encode characters in ordinal not in range(128)</code></p><h2 id="解决方案"><a class="markdownIt-Anchor" href="#解决方案"></a> 解决方案</h2><p>在项目配置文件<code>settings.py</code>中加入如下代码：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> codecs</span><br><span class="line">sys.stdout = codecs.getwriter(<span class="string">"utf-8"</span>)(sys.stdout.detach())</span><br></pre></td></tr></table></figure><p>另外注意系统的语言配置，比如Ubuntu可采用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LANG=<span class="string">"en_US.UTF-8"</span> <span class="comment">#或者C.UTF-8</span></span><br></pre></td></tr></table></figure><p>在运行python命令前添加参数</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PYTHONIOENCODING=utf-8 python test.py</span><br></pre></td></tr></table></figure><p>该参数的解释可查看官方文档：<br><a href="https://docs.python.org/3.6/using/cmdline.html#envvar-PYTHONIOENCODING" target="_blank" rel="noopener">https://docs.python.org/3.6/using/cmdline.html#envvar-PYTHONIOENCODING</a></p><h2 id="主要参考"><a class="markdownIt-Anchor" href="#主要参考"></a> 主要参考：</h2><p><a href="https://blog.csdn.net/th_num/article/details/80685389" target="_blank" rel="noopener">Python3中遇到UnicodeEncodeError: ‘ascii’ codec can’t encode characters in ordinal not in range(128)</a></p>]]></content>
    
    <summary type="html">
    
      在项目配置文件`settings.py`中加入代码`sys.stdout = codecs.getwriter(&quot;utf-8&quot;)(sys.stdout.detach())`来解决。
    
    </summary>
    
      <category term="问题解决" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
    
    
      <category term="问题解决" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
    
      <category term="Python3" scheme="https://xiaotiandi.github.io/publicBlog/tags/Python3/"/>
    
      <category term="Django" scheme="https://xiaotiandi.github.io/publicBlog/tags/Django/"/>
    
      <category term="encode" scheme="https://xiaotiandi.github.io/publicBlog/tags/encode/"/>
    
  </entry>
  
  <entry>
    <title>构建知识图谱</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-10-09-436b4d47.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-10-09-436b4d47.html</id>
    <published>2018-10-09T04:00:00.000Z</published>
    <updated>2018-10-12T09:59:20.169Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h1 id="1-概念"><a class="markdownIt-Anchor" href="#1-概念"></a> 1. 概念</h1><hr><h2 id="11-知识图谱"><a class="markdownIt-Anchor" href="#11-知识图谱"></a> 1.1. 知识图谱</h2><ul><li><p>知识图谱于2012年5月17日由Google正式提出，其初衷是为了提高搜索引擎的能力。随着人工智能的技术发展和应用，作为关键技术之一，已被广泛应用于智能搜索、智能问答、个性化推荐、内容分发等领域。</p></li><li><p>知识图谱，本质上, 是描述实体间关系的语义网络。节点表示实体或概念，边则由属性或关系构成。现在已被用来泛指各种大规模的知识库。</p></li><li><p>根据覆盖范围而言，知识图谱也可分为开放域通用知识图谱和垂直行业知识图谱。</p></li></ul><p>(<a href="https://wenku.baidu.com/view/e69a3619fe00bed5b9f3f90f76c66137ee064fhtml?rec_flag=default&amp;sxts=1531989105320" target="_blank" rel="noopener">点击出处</a>）</p><hr><h2 id="12-实体-关系-属性-本体-内容"><a class="markdownIt-Anchor" href="#12-实体-关系-属性-本体-内容"></a> 1.2. 实体 关系 属性 本体 内容</h2><hr><ul><li><dl><dt>实体</dt><dd>具有可区别性且独立存在的事物。如图所示“百度”、“阿里”等。</dd></dl></li><li><dl><dt>关系</dt><dd>实体之间的联系。如图所示“竞争”、“合作”。</dd></dl></li><li><dl><dt>属性(值)</dt><dd>属性是对实体和关系的描述；属性值是属性的值。实体一般有属性，比如百度员工数量。关系也可以有属性，比如合作亲密度。</dd></dl></li><li><dl><dt>本体</dt><dd>是语义类（概念），具有同种特性的实体构成的集合，对实体的抽象概括。如图所示的的疾病、症状。</dd></dl></li><li><dl><dt>内容</dt><dd>名字、描述、解释等，可以由文本、图像、音视频等来表达。</dd></dl></li><li><dl><dt>三(多)元组</dt><dd>三元组是知识图谱的一种常用表示方式，即G={E,R,S}。当然也存在复杂的多元关系，比如A在B条件下和C、D、E有关系。</dd></dl></li></ul><hr><center><img src="resource/20180915/9.png" width="75%"></center><p><a href="https://image.baidu.com/search/detail?ct=503316480&amp;z=0&amp;ipn=d&amp;word=zhishitupu&amp;step_word=&amp;hs=0&amp;pn=191&amp;spn=0&amp;di=12193073311&amp;pi=0&amp;rn=1&amp;tn=baiduimagedetail&amp;is=0%2C0&amp;istype=0&amp;ie=utf-8&amp;oe=utf-8&amp;in=&amp;cl=2&amp;lm=-1&amp;st=undefined&amp;cs=2148214663%2C3577409656&amp;os=2877711545%2C3677317195&amp;simid=4208438624%2C603040893&amp;adpicid=0&amp;lpn=0&amp;ln=1513&amp;fr=&amp;fmq=1535332823898_R&amp;fm=&amp;ic=undefined&amp;s=undefined&amp;se=&amp;sme=&amp;tab=0&amp;width=undefined&amp;height=undefined&amp;face=undefined&amp;ist=&amp;jit=&amp;cg=&amp;bdtype=0&amp;oriquery=&amp;objurl=http%3A%2F%2Fp3.pstatp.com%2Flarge%2Fb540002ae17530aa20b.gif&amp;fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bvijg2fits7gpwg_z%26e3Bv54AzdH3Fo2AzdH3FwAzdH3Fda8ma0dbAzdH3Fa9na0mknvabcu1mj9vn0ulwd0810u0n0_z%26e3Bip4s&amp;gsm=96&amp;rpstart=0&amp;rpnum=0&amp;islist=&amp;querylist=" target="_blank" rel="noopener">点击出处</a></p><hr><center><img src="resource/20180915/8.png" width="75%"></center><p><a href="http://www.ctoutiao.com/324380.html" target="_blank" rel="noopener">点击出处</a></p><hr><h1 id="2-渊源"><a class="markdownIt-Anchor" href="#2-渊源"></a> 2. 渊源</h1><hr><center><img src="resource/20180915/1.jpg" width="75%"></center><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">点击出处</a></p><hr><p class="hidePPT">知识图谱自上世纪60年代从语义网络发展起来以后，分别经历了1980年代的专家系统、1990年代的贝叶斯网络、2000年代的OWL和语义WEB，以及2010年以后的谷歌的知识图谱。谷歌目前的知识图谱已经包含了数亿个条目，并广泛应用于搜索、推荐等领域。</p><p class="hidePPT">知识图谱的存储和查询语言也经历了历史的洗涤，从RDF到OWL以及SPARQL查询，都逐渐因为使用上的不便及高昂的成本，而被工业界主流所遗弃。图数据库逐步成为目前主要的知识图谱存储方式。</p><center><img src="resource/20180915/2.jpg" width="75%"></center><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">点击出处</a></p><hr><center>现在知名度较高的大规模知识库</center><center><img src="resource/20180915/10.png" width="75%"></center><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">点击出处</a></p><hr><h1 id="3-架构之逻辑结构与构建方式"><a class="markdownIt-Anchor" href="#3-架构之逻辑结构与构建方式"></a> 3. 架构之逻辑结构与构建方式</h1><hr><h2 id="31-逻辑结构"><a class="markdownIt-Anchor" href="#31-逻辑结构"></a> 3.1. 逻辑结构</h2><ul><li><dl><dt>数据层</dt><dd>以事实为单位进行存储。</dd></dl></li><li><dl><dt>模式层</dt><dd>构建在数据层之上，是知识图谱的核心，是经过提炼的本体库，通常采用本体库来管模式层。层次结构较强，冗余程度较小。</dd></dl></li></ul><hr><h2 id="32-构建方式"><a class="markdownIt-Anchor" href="#32-构建方式"></a> 3.2. 构建方式</h2><ul><li><dl><dt>自顶向下(top-down)</dt><dd>先定义本体和数据模式，再将实体加入知识库。利用一些现有的结构化知识库作为其基础知识库。</dd></dl></li><li><dl><dt>自底向上(bottom-up)</dt><dd>从一些开放链接数据中提取出实体，选择其中置信度较高的加入到知识库，再构建顶层的本体模式。</dd></dl></li></ul><p class="hidePPT">目前，大多数知识图谱都采用自底向上的方式进行构建，其中最典型就是Google的Knowledge Vault和微软的Satori知识库。现在也符合互联网数据内容知识产生的特点。也有自顶向下的，比如Freebase项目就是采用这种方式，它的绝大部分数据是从维基百科中得到的。</p><hr><h1 id="4-架构之技术架构与构建技术"><a class="markdownIt-Anchor" href="#4-架构之技术架构与构建技术"></a> 4. 架构之技术架构与构建技术</h1><hr><h2 id="41-概述"><a class="markdownIt-Anchor" href="#41-概述"></a> 4.1. 概述</h2><p>大体包含五个方面：<strong>知识抽取、知识表示、知识融合、知识加工、知识评估</strong></p><center><img src="resource/20180915/11.jpeg" width="75%"></center><p class="hidePPT">通过<b>知识提取</b>技术，可以从一些公开的半结构化、非结构化和第三方结构化数据库的数据中提取出实体、关系、属性等知识要素。<b>知识表示</b>则通过一定有效手段对知识要素表示，便于进一步处理使用。分布式的知识表示形成的综合向量对知识库的构建、推理、融合以及应用均具有重要的意义。然后通过<b>知识融合</b>，可消除实体、关系、属性等指称项与事实对象之间的歧义，形成高质量的知识库。<b>知识加工</b>则是在已有的知识库基础上进一步挖掘隐含的知识，构建新本体，补全关系，从而丰富、扩展知识库。<b>知识评估</b>可以对知识的可信度进行量化，保留置信度较高的，舍弃置信度较低的，有效确保知识的质量。除此之外，大规模知识图谱构建，还需要多种技术的支持：<b>分布式存储和计算、图数据库、图推理、内存数据库等</b>。</p><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">点击出处</a></p><hr><p>其他架构方案1：</p><center><img src="resource/20180915/12.jpg" width="75%"></center><p><a href="http://www.360doc.com/content/18/0320/05/39913792_738598481.shtml" target="_blank" rel="noopener">点击出处</a></p><hr><p>其他架构方案2：</p><center><img src="resource/20180915/13.png" width="65%"></center><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="42-关键技术之知识抽取"><a class="markdownIt-Anchor" href="#42-关键技术之知识抽取"></a> 4.2. 关键技术之知识抽取</h2><hr><h3 id="421-概述"><a class="markdownIt-Anchor" href="#421-概述"></a> 4.2.1. 概述</h3><ol><li>抽哪些</li></ol><ul><li>实体抽取</li><li>关系抽取</li><li>属性抽取</li></ul><ol start="2"><li>如何抽</li></ol><ul><li>文档结构规范化</li><li>基于语法的抽取</li><li>基于结构的抽取</li></ul><hr><h3 id="422-实体抽取"><a class="markdownIt-Anchor" href="#422-实体抽取"></a> 4.2.2. 实体抽取</h3><p><strong>实体抽取</strong>也称为<strong>命名实体学习(NEL)</strong>(named entity learning) 或<strong>命名实体识别(NER)</strong> (named entity recognition)，指的是从原始数据语料中自动识别出命名实体。是知识抽取中最为关键的一步。</p><hr><ul><li><strong>基于百科</strong>，可得到开放互联网中最常见的实体名，但对中低频的覆盖率低</li><li><strong>基于垂直类站点</strong>，可以获取特定领域的实体</li><li><strong>基于规则与词典</strong>，依靠专家来编写规则或模板，范围有限，不适应新变化。比如字典辅助下的最大熵算法</li><li><strong>基于统计机器学习</strong>，更有可扩展性，单纯监督式学习的准确率和召回率不高，故常常与规则学习结合。比如KNN算法+CRF模型。</li><li><strong>开放式的实体抽取方法</strong>，通过少量的实体实例(<strong>种子数据</strong>)建立特征模型、聚类分类，再应用于新的数据集得到新的命名实体。比如将实体类别进行分类，并基于CRF模型进行实体边界识别，最后采用自适应感知机算法实现了对实体的自动分类。</li></ul><p class="hidePPT">基于规则与词典的实体，比如抽取出文本中的人名、地名、组织机构名、特定时间等。有人用到了启发式算法与规则模板相结合的方法。</p><blockquote><p>以上方法有一些具体的文献来论述，可以<a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">参看1</a>、<a href="https://wenku.baidu.com/view/9c956feaac51f01dc281e53a580216fc710a5377.html" target="_blank" rel="noopener">参看2</a>和<a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">参看3</a></p></blockquote><hr><h3 id="423-语义类抽取"><a class="markdownIt-Anchor" href="#423-语义类抽取"></a> 4.2.3. 语义类抽取</h3><ul><li><strong>并列相似度计算</strong>，两个词有较高的并列相似度的条件是它们具有并列关系（即同属于一个语义类），并且有较大的关联度。当前主流的并列相似度计算方法有<strong>分布相似度法</strong>和<strong>模式匹配法</strong>。</li><li><strong>上下位关系提取</strong>，最简单的方法是解析百科类站点的分类信息,但不全；故也用模式匹配。</li><li><strong>语义类生成</strong>，包括聚类和语义类标定两个子模块。依赖于并列相似性和上下位关系信息来进行聚类和标定。</li></ul><p class="hidePPT">当前主流的<b>并列相似度计算方法</b>有分布相似度法（distributional similarity） 和模式匹配法（pattern Matching）。分布相似度方法基于哈里斯（Harris）的分布假设（distributional hypothesis），即经常出现在类似的上下文环境中的两个词具有语义上的相似性。分布相似度方法的实现分三个步骤：第一步，定义上下文；第二步，把每个词表示成一个特征向量，向量每一维代表一个不同的上下文，向量的值表示本词相对于上下文的权重；第三步，计算两个特征向量之间的相似度，将其作为它们所代表的词之间的相似度。 模式匹配法的基本思路是把一些模式作用于源数据，得到一些词和词之间共同出现的信息，然后把这些信息聚集起来生成单词之间的相似度。模式可以是手工定义的，也可以是根据一些种子数据而自动生成的。</p><p class="hidePPT">在英文数据上用Hearst模式和IsA模式进行模式匹配被认为是比较有效的<b>上下位关系抽取方法</b>。</p><blockquote><p>以上方法有一些具体的文献来论述，可以<a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">参看此处。</a></p></blockquote><hr><h3 id="424-属性和属性值抽取"><a class="markdownIt-Anchor" href="#424-属性和属性值抽取"></a> 4.2.4. 属性和属性值抽取</h3><ul><li><strong>从百科类站点中提取</strong></li><li><strong>从垂直网站中利用规则模板进行包装器（或称为模版）归纳</strong></li><li><strong>从网页表格中提取</strong></li><li><strong>利用手工定义或自动生成的模式从句子和查询日志中提取</strong></li></ul><p class="hidePPT">当前从句子和查询日志中提取属性和属性值的基本手段是模式匹配和对自然语言的浅层处理。在只有语义类无关的模式作为输入的情况下，整个方法是一个在句子中进行模式匹配而生成（语义类，属性）关系图的无监督的知识提取过程。此过程分两个步骤，第一个步骤通过将输入的模式作用到句子上而生成一些（词，属性）元组，这些数据元组在第二个步骤中根据语义类进行合并而生成（语义类，属性）关系图。</p><p>例如：</p><ul><li>将人物属性抽取问题转化为实体关系抽取问题，采用支持向量机算法实现了人物属性抽取与关系预测模型。</li><li>基于规则和启发式算法的属性抽取算法，得到了扩展性良好的本体知识库YAGO。</li><li>从维基百科网页信息框抽取实体和实体关系信息，得到DBpedia。</li></ul><blockquote><p>以上方法有一些具体的文献来论述，可以<a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">参看1</a>、<a href="https://wenku.baidu.com/view/9c956feaac51f01dc281e53a580216fc710a5377.html" target="_blank" rel="noopener">参看2</a>和<a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">参看3</a></p></blockquote><hr><h3 id="425-关系抽取"><a class="markdownIt-Anchor" href="#425-关系抽取"></a> 4.2.5. 关系抽取</h3><ul><li><strong>人工预定义的语法与规则</strong>，逐渐被取代</li><li><strong>开放式实体关系抽取</strong>，可分为二元开和n元开放式关系抽取</li><li><strong>基于联合推理的实体关系抽取</strong>，典型方法是马尔可夫逻辑网</li><li><strong>基于本体推理的深层隐含关系抽取方法</strong>，待查</li></ul><blockquote><p>以上方法有一些具体的文献来论述，可以<a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">参看1</a>、<a href="https://wenku.baidu.com/view/9c956feaac51f01dc281e53a580216fc710a5377.html" target="_blank" rel="noopener">参看2</a>和<a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">参看3</a></p></blockquote><hr><p>例如：</p><ul><li>利用自然语言中的词法、句法以及语义特征进行实体关系建模，通过最大熵方法实现了不借助规则硬编码的实体关系抽取。</li><li>借助知网（HowNet）提供的本体知识库构造语义核函数，在开放数据集上对ACE定义的6类实体关系进行抽取。</li><li>基于Bootstrap算法的半监督学习方法，自动进行实体关系建模。</li><li>基于Bootstrap算法思想，提出协同训练方法，引入N-Gram特征进行协同训练，实现了对弱监督关系抽取模型的强化。</li><li>采用少量人工标记数据作为训练集，得到一个实体关系分类模型，再依据该模型对开放数据进行分类，依据分类结果训练朴素贝叶斯模型来识别“实体-关系-实体”三元组。</li><li>引入语法限制条件和字典约束，采用先识别关系指示词，然后再对实体进行识别的策略.</li><li>引入上下文分析技术，提出了一个支持非动词性关系抽取的系统。</li><li>基于条件随机场的关系抽取模型（H-CRF）的方法。</li></ul><blockquote><p>以上方法有一些具体的文献来论述，可以<a href="https://wenku.baidu.com/view/9c956feaac51f01dc281e53a580216fc710a5377.html" target="_blank" rel="noopener">参看1</a>和<a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">参看2</a></p></blockquote><hr><h2 id="43-关键技术之知识表示"><a class="markdownIt-Anchor" href="#43-关键技术之知识表示"></a> 4.3. 关键技术之知识表示</h2><h3 id="431-概述"><a class="markdownIt-Anchor" href="#431-概述"></a> 4.3.1. 概述</h3><p>传统的知识表示方法主要是以RDF(Resource Description Framework资源描述框架)的三元组SPO(subject,property,object)来符号性描述实体之间的关系。这种表示方法通用简单，受到广泛认可，但是其在计算效率、数据稀疏性等方面面临诸多问题。近年来，以深度学习为代表的以深度学习为代表的表示学习技术取得了重要的进展，可以将实体的语义信息表示为稠密低维实值向量，进而在低维空间中高效计算实体、关系及其之间的复杂语义关联，对知识库的构建、推理、融合以及应用均具有重要的意义。</p><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">点击出处</a></p><hr><p>目前将知识图谱用于深度学习主要有两种方式，一种是将知识图谱的语义信息输入到深度学习模型中，将离散化的知识表示为连续化的向量，从而使得知识图谱的先验知识能够称为深度学习的输入；另外一种是利用知识作为优化目标的约束，指导深度学习模型的学习过程，通常是将知识图谱中的知识表示为优化目标的后验正则项。</p><p>知识图谱的表示学习用于学习实体和关系的向量化表示，其关键是合理定义知识图谱中关于事实（三元组h,r,t）的损失函数fr(h,t)，其总和是三元组的两个实体h和t的向量化表示。通常情况下，当事实h,r,t成立时，期望最小化fr(h,t)。</p><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">点击出处</a></p><hr><h3 id="432-常见的有基于距离和翻译的模型"><a class="markdownIt-Anchor" href="#432-常见的有基于距离和翻译的模型"></a> 4.3.2. 常见的有基于距离和翻译的模型。</h3><p>基于距离的模型，比如SE模型，其基本思想是当两个实体属于同一个三元组时，它们的向量表示在投影后的空间中也应该彼此靠近。所以损失函数定义为向量投影后的距离，其中矩阵Wr1和Wr2用于三元组中头实体h和尾实体t的投影操作。</p><center><img src="resource/20180915/6.jpg" width="30%"></center><p>基于翻译的模型可以参考前述的TransE, TransH和TransR模型。其通过向量空间的向量翻译来描述实体与关系之间的相关性。</p><center><img src="resource/20180915/7.jpg" width="30%"></center><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">点击出处</a></p><hr><h3 id="433-一般的知识表示的方法"><a class="markdownIt-Anchor" href="#433-一般的知识表示的方法"></a> 4.3.3. 一般的知识表示的方法</h3><ol><li>简单模型：1-to-1</li></ol><ul><li>距离模型</li><li>单层神经网络模型</li><li>双线性模型</li><li>神经张量模型</li><li>矩阵分解模型</li><li>翻译模型等</li></ul><ol start="2"><li>复杂模型：1-to-N、N-to-1、N-to-N</li></ol><ul><li>TransH模型</li><li>TransR模型</li><li>TransD模型</li><li>TransG模型</li><li>KG2E模型</li></ul><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">点击出处</a></p><hr><h3 id="434-知识表示的前景和应用"><a class="markdownIt-Anchor" href="#434-知识表示的前景和应用"></a> 4.3.4. 知识表示的前景和应用</h3><p>当前的知识图谱表示学习方法都还存在各种问题，这个领域的发展也非常迅速，值得期待。</p><p>知识图谱的表示转换后，根据不同领域的应用，就可以和各种深度学习模型相结合，比如在自动问答领域，可以和encoder-decoder相结合，将问题和三元组进行匹配，即计算其向量相似度，从而为某个特定问题找到来自知识图谱的最佳三元组匹配。也有案例在推荐系统中，通过网络嵌入（network embedding）获取结构化知识的向量化表示，然后分别用SDAE（Stacked Denoising Auto-Encoder）和层叠卷积自编码器（StackedConvolutional Auto-Encoder）来抽取文本知识特征和图片知识特征，并将三类特征融合进协同集成学习框架，利用三类知识特征的整合来实现个性化推荐。</p><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="44-关键技术之知识融合"><a class="markdownIt-Anchor" href="#44-关键技术之知识融合"></a> 4.4. 关键技术之知识融合</h2><h3 id="441-数据源特点"><a class="markdownIt-Anchor" href="#441-数据源特点"></a> 4.4.1. 数据源特点</h3><ol><li>从哪来</li></ol><ul><li>公开与非公开</li><li>单机与分布式</li></ul><ol start="2"><li>怎么样</li></ol><ul><li>规范与非规范</li><li>结构化与非结构化</li><li>多媒体与自然语言</li><li>冗余与噪音</li></ul><ol start="3"><li>如何取舍</li></ol><ul><li>权威与错谬</li><li>同源与异源</li><li>同构与异构</li><li>同语种与不同语种</li></ul><p class="hidePPT">由于知识来源和形式等不同，所以必须要进行知识的融合,做实体对齐、属性矫正、关系矫正、规范化、冲突解决等，使得来自不同知识源的知识在同一框架规范下，达到数据、信息、方法、经验以及人的思想的融合。</p><hr><h3 id="442-实体对齐"><a class="markdownIt-Anchor" href="#442-实体对齐"></a> 4.4.2. 实体对齐</h3><p class="hidePPT">实体对齐 (entity alignment) 也称为实体匹配 (entity matching)或实体解析(entity resolution)或者实体链接（entity linking），主要是用于消除异构数据中实体冲突、指向不明等不一致性问题。在大数据的环境下，受知识库规模的影响，进行实体对齐时可能遇到计算复杂度高和标注数据不足等问题。</p><ul><li><dl><dt>成对实体对齐方法</dt><dd>只考虑两个实体各自属性的相似性；两个实体的属性越相似，两个实体越像。基于传统概率模型、基于机器学习的两大类方法。</dd></dl></li><li><dl><dt>局部集体实体对齐方法</dt><dd>考虑了实体本身的属性以及与它有关联的实体的属性。</dd></dl></li><li><dl><dt>全局集体实体对齐方法</dt><dd>两个实体间的相似也会影响到各自与别的实体的相似性。两类：<br>（1）基于相似性传播的集体实体对齐方法，匹配的两个实体与它们产生直接关联的其他实体也会具有较高的相似性，而这种相似性又会影响关联的其他实体。<br>（2）基于概率模型的集体实体对齐方法，主要采用统计关系学习进行计算与推理，常用的方法有LDA模型、CRF模型、Markov逻辑网等。</dd></dl></li></ul><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">点击出处</a></p><hr><h3 id="443-实体消岐"><a class="markdownIt-Anchor" href="#443-实体消岐"></a> 4.4.3. 实体消岐</h3><p>实体消岐（entity disambiguation）是专门用于解决同名实体产生歧义问题的技术。例如“苹果”可以指水果，也可以指手机。通过实体消岐，就可以根据当前的语境，准确建立实体链接。</p><p>实体消岐主要采用<strong>聚类法</strong>。聚类法消岐的常用方法有4种：<strong>1. 空间向量模型（词袋模型）；2. 语义模型；3. 社会网络模型；4. 百科知识模型。</strong></p><p><a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">点击出处</a></p><p>实体消歧的方法，也可以分为：<strong>基于概率生成模型方法、基于主题模型的方法、基于图的方法、基于深度神经网络的方法</strong>。</p><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处</a></p><hr><h3 id="444-共指消解"><a class="markdownIt-Anchor" href="#444-共指消解"></a> 4.4.4. 共指消解</h3><p>共指消解（entity resolution）主要用于解决多个指称项对应于同一实体对象的问题。例如“eason”，“陈胖子”，“陈奕迅”等指称项可能指向的是同一个实体对象。代表性的解决方法是<strong>Hobbs算法</strong>和<strong>向心理论（centering theory）</strong></p><p><a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">点击出处</a></p><hr><h3 id="445-知识更新与验证"><a class="markdownIt-Anchor" href="#445-知识更新与验证"></a> 4.4.5. 知识更新与验证</h3><p>当引入新知识时，需要判断新知识是否与已有知识是否一致，如果新知识与旧知识间有冲突，那么要判断是原有的知识错了，还是新的知识不靠谱？这里可以用到的证据可以是权威度、冗余度、多样性、一致性等。如果新知识是正确的，那么要进行相关实体和关系的更新。更新有全面更新和增量更新。</p><p>知识更新主要是增加、修改、删除知识，包括两大类：</p><ol><li><strong>模式层(本体层)的更新</strong>是指本体中元素的更新，包括概念的，概念属性的更新以及概念之间上下位关系的更新等。其中，概念属性的更新操作将直接影响到所有直接或间接属性的子概念和实体。通常来说，模式层的增量更新方式消耗资源较少，但是多数情况下是在人工干预的情况下完成的，例如需要人工定义规则，人工处理冲突等。因此，实施起来并不容易。</li><li><strong>数据层的更新</strong>指的是实体元素的更新，包括实体的增加、修改、删除，以及实体的基本信息和属性值。由于数据层的更新一般影响面较小，因此通常以自动的方式完成。</li></ol><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="45-关键技术之知识加工"><a class="markdownIt-Anchor" href="#45-关键技术之知识加工"></a> 4.5. 关键技术之知识加工</h2><hr><h3 id="451-本体构建"><a class="markdownIt-Anchor" href="#451-本体构建"></a> 4.5.1. 本体构建</h3><p>本体在知识图谱中的地位相当于知识库的模具，通过本体库而形成的知识库不仅层次结构较强，并且冗余程度较小。本体可通过人工编辑的方式手动构建，也可通过数据驱动自动构建，然后再经质量评估方法与人工审核相结合的方式加以修正与确认。</p><p>在海量的实体数据面前，对于跨领域的全局本体库而言，采用人工方式工作量巨大，而且很难找符合要求的专家。因此当前主流的全局本体库产品，都是从一些特定领域的现有本体库出发，采用自动构建技术逐步扩展得到的。</p><p>数据驱动的本体自动构建过程主要可分为以下<strong>3个阶段：（1）纵向概念间的并列关系计算;（2）实体上下位关系抽取;（3）聚类分类与本体生成。</strong></p><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">点击出处</a></p><hr><h3 id="452-知识推理与补全"><a class="markdownIt-Anchor" href="#452-知识推理与补全"></a> 4.5.2. 知识推理与补全</h3><p>知识推理是指从知识库中已有的实体关系数据出发，经过计算机推理，建立实体间的新关联，从而扩展和丰富知识网络。例如已知（A，爸爸，B）和（B，爸爸，C），可以推理出（A，爷爷，C）。知识推理的对象不局限于实体间的关系，也可以是实体的属性值、本体的概念层次关系等。例如已知（老虎，科，猫科）和（猫科，目，食肉目），可以推出（老虎，目，食肉目）。</p><p>知识推理和补全主要体现在三方面：<strong>实体关系学习</strong>的目的是学习知识图谱中实例和实例之间的潜在关系，比如双线性模型，张量分解模型，基于归纳逻辑程序（ILP）的方法，基于关联规则挖掘（ARM）的方法和路径排序（path ranking）的方法；<strong>类型推理</strong>目的是学习知识图谱中的实例和概念之间的属于关系，比如利用三元组主语或谓语所连接属性的统计分布以预测实例的类型；<strong>模式归纳</strong>学习概念之间的关系，主要有基于ILP的方法和基于ARM的方法。</p><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处</a></p><hr><h4 id="4521-一般知识推理方法"><a class="markdownIt-Anchor" href="#4521-一般知识推理方法"></a> 4.5.2.1. 一般知识推理方法</h4><ul><li><strong>基于符号逻辑的推理</strong>，主要包括一阶谓词逻辑、描述逻辑以及基于规则的推理。</li><li><strong>基于图的推理</strong>，主要是基于神经网络模型或Path Ranking算法。</li><li><strong>基于统计推理的方法</strong>，比如双线性模型，张量分解模型，基于归纳逻辑程序（ILP）的方法，基于关联规则挖掘（ARM）的方法，利用三元组主语或谓语所连接属性的统计分布以预测实例的类型。</li></ul><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处1</a></p><p><a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">点击出处2</a></p><hr><h4 id="4522-空间变换式的知识推理"><a class="markdownIt-Anchor" href="#4522-空间变换式的知识推理"></a> 4.5.2.2. 空间变换式的知识推理</h4><p class="hidePPT">知识图谱的补全是通过现有知识图谱来预测实体之间的关系，是对关系抽取的重要补充。传统方法TransE和TransH通过把关系作为从实体A到实体B的翻译来建立实体和关系嵌入，但是这些模型仅仅简单地假设实体和关系处于相同的语义空间。而事实上，一个实体是由多种属性组成的综合体，不同关系关注实体的不同属性，所以仅仅在一个空间内对他们进行建模是不够的。</p><p class="hidePPT">因此我们尝试用TransR来分别将实体和关系投影到不同的空间中，在实体空间和关系空间构建实体和关系嵌入。对于每个元组（h,r,t），首先将实体空间中的实体通过Mr向关系r投影得到hr和tr，然后是hr+r ≈tr。特定的关系投影能够使得两个实体在这个关系下真实地靠近彼此，使得不具有此关系的实体彼此远离。</p><center><img src="resource/20180915/3.jpg" width="25%"></center><center><img src="resource/20180915/4.jpg" width="60%"></center><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">点击出处</a></p><hr><h4 id="4523-张量表示下的知识推理"><a class="markdownIt-Anchor" href="#4523-张量表示下的知识推理"></a> 4.5.2.3. 张量表示下的知识推理</h4><p>知识图谱推理中还经常将知识图谱表示为张量tensor形式，通过张量分解（tensor factorization）来实现对未知事实的判定。常用于链接预测（判断两个实体之间是否存在某种特定关系）、实体分类（判断实体所属语义类别）、实体解析（识别并合并指代同一实体的不同名称）。</p><p>常见的模型有RESCAL模型和TRESCAL模型。RESCAL模型将整个知识图谱编码为一个三维张量，而TRESCAL则是解决在输入张量高度稀疏时所带来的过拟合问题。路径排序算法也常用来判断两个实体之间可能存在的关系，比如PRA算法。</p><hr><p>RESCAL模型的核心思想，是将整个知识图谱编码为一个三维张量，由这个张量分解出一个核心张量和一个因子矩阵，核心张量中每个二维矩阵切片代表一种关系，因子矩阵中每一行代表一个实体。由核心张量和因子矩阵还原的结果被看作对应三元组成立的概率，如果概率大于某个阈值，则对应三元组正确；否则不正确。</p><center><img src="resource/20180915/5.jpg" width="50%"></center><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="46-关键技术之知识评估"><a class="markdownIt-Anchor" href="#46-关键技术之知识评估"></a> 4.6. 关键技术之知识评估</h2><ul><li>关于实体质量和范围的评估</li><li>关于推理能力的评估</li><li>根据业务定义的评估</li></ul><hr><h1 id="5-知识存储与数据库选择"><a class="markdownIt-Anchor" href="#5-知识存储与数据库选择"></a> 5. 知识存储与数据库选择</h1><hr><h2 id="51-存储方式"><a class="markdownIt-Anchor" href="#51-存储方式"></a> 5.1. 存储方式</h2><p>知识存储的主流存储方式是图数据库，但具体实施时需要根据具体的业务需求来选择存储方式，各种存储方式的特点：</p><p><strong>1、关系型数据库存储三元组表（S，P，O）</strong><br>类似RDF存储结构，以元组为单元进行存储。语义较为明确。</p><p>问题：</p><ul><li>大量自连接操作的开销巨大</li></ul><p><strong>2、关系型数据库存储属性表</strong><br>属性相似的主语聚为一张表，类似关系型数据结构，每一条数据代表一个实体，每一列代表一个属性。</p><p>问题：</p><ul><li>RDF灵活性（高于一阶的关系查询很复杂）</li><li>查询时必须指定属性，无法做不确定属性的查询</li></ul><hr><p><strong>3、关系型数据库存储垂直分割</strong><br>以谓语划分三元组表，根据属性的不同建立数据表，数据结构较为清晰</p><p>问题：</p><ul><li>大量数据表</li><li>删除属性代价大</li></ul><p><strong>4、关系型数据库存储RDF存储</strong><br>专为存储三元组形式的数据而设计的专用数据库，通过六重索引（SPO、SOP、PSO、POS、OSP、OPS）的方式解决了三元组搜索的效率问题</p><p>优点：</p><ul><li>三元组模式查询（triple pattern）的高效执行</li><li>任意两个三元组模式的高效归并连接（merge-join）</li></ul><p>缺点：</p><ul><li>六重索引意味着6倍空间开销</li><li>更新维护代价大</li></ul><hr><p><strong>5、图数据库存储</strong><br>图数据库的结构定义相比RDF数据库更为通用，实现了图结构中的节点，边以及属性来进行图数据的存储，典型的开源图数据库就是Neo4j。</p><p>优点：数据库本身提供完善的图查询语言、支持各种图挖掘算法，缺点：图数据库的分布式存储实现代价高，数据更新速度慢，大节点的处理开销很高。</p><p><strong>6、时态数据存储</strong><br>知识图谱中的时态信息包含以下四个方面：</p><ul><li>事实的生成时间；</li><li>某事实的有效时间段；</li><li>某一对象在特定历史时刻的状态；</li><li>知识图谱在过去特定时间的版本；</li></ul><p><a href="http://www.360doc.com/content/18/0320/05/39913792_738598481.shtml" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="52-存储原则"><a class="markdownIt-Anchor" href="#52-存储原则"></a> 5.2. 存储原则</h2><p>为了计算、查询等速度的优化，需要不同的存储方式相结合。</p><ul><li>关系型数据：使用图形数据存储</li><li>关联型数据：作为记录型数据存入合适的存储中，通过实体链接与图谱中实体关联。</li><li>属性型数据：作为实体的数值属性存入知识图谱</li><li>时态型数据：使用基础存储上的时态处理中间件进行存储与查询</li></ul><p><a href="http://www.360doc.com/content/18/0320/05/39913792_738598481.shtml" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="53-各类数据库比较和发展趋势"><a class="markdownIt-Anchor" href="#53-各类数据库比较和发展趋势"></a> 5.3. 各类数据库比较和发展趋势</h2><p><a href="https://kb.cnblogs.com/page/74127/" target="_blank" rel="noopener">图数据库、NOSQL、Neo4j</a></p><p><a href="https://www.cnblogs.com/hadoopdev/p/8203971.html" target="_blank" rel="noopener">2017知识图谱存储系统排名</a></p><p><a href="https://wenku.baidu.com/view/91a117a68662caaedd3383c4bb4cf7ec4afeb61b.html?pn=50" target="_blank" rel="noopener">大规模知识图谱数据存储-Final</a></p><hr><center><img src="resource/20180915/15.jpeg" width="75%"></center><p><a href="https://www.cnblogs.com/hadoopdev/p/8203971.html" target="_blank" rel="noopener">点击出处</a></p><hr><center><img src="resource/20180915/16.jpeg" width="75%"></center><p><a href="https://www.cnblogs.com/hadoopdev/p/8203971.html" target="_blank" rel="noopener">点击出处</a></p><hr><center><img src="resource/20180915/17.jpeg" width="75%"></center><p><a href="https://www.cnblogs.com/hadoopdev/p/8203971.html" target="_blank" rel="noopener">点击出处</a></p><hr><center><img src="resource/20180915/18.jpeg" width="75%"></center><p><a href="https://www.cnblogs.com/hadoopdev/p/8203971.html" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="54-图数据库比较"><a class="markdownIt-Anchor" href="#54-图数据库比较"></a> 5.4. 图数据库比较</h2><p>开源图数据库有：Neo4j、Twitter的FlockDB、sones的GraphDB、基于Java实现的InfiniteGraph等。除此之外，还有其他一些图形数据库，如ArangoDB、OrientDB、InfoGrid和HypergraphDB。Ravel构建在开源的Pregel实现之上，微软研究院的Trinity项目也是一个图形数据库项目。</p><p><a href="http://www.aboutyun.com/thread-12962-1-1.html" target="_blank" rel="noopener">现在的开源图形数据库有哪些？</a></p><p><a href="https://www.jianshu.com/p/6cab7a150755" target="_blank" rel="noopener">主流图数据库Neo4J、ArangoDB、OrientDB综合对比：架构分析</a></p><p><a href="http://www.odbms.org/wp-content/uploads/2013/11/Sones-AchimFriedland.pdf" target="_blank" rel="noopener">The GraphDB Landscape and sones</a></p><p><a href="https://blog.csdn.net/fkyyly/article/details/44181161" target="_blank" rel="noopener">nosql图数据库的比较</a></p><hr><center><img src="resource/20180915/22.png" width="75%"></center><p><a href="https://blog.csdn.net/fkyyly/article/details/44181161" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="55-neo4j"><a class="markdownIt-Anchor" href="#55-neo4j"></a> 5.5. neo4j</h2><p><a href="https://blog.csdn.net/github_38196280/article/details/78437987" target="_blank" rel="noopener">Neo4j 新手入门指南</a></p><p><a href="https://neo4j.com/docs/operations-manual/current/tutorial/import-tool/" target="_blank" rel="noopener">CSV导入neo4j: use import tool</a></p><p><a href="https://blog.csdn.net/u011630575/article/details/78913189" target="_blank" rel="noopener">CSV导入neo4j: use load</a></p><p><a href="https://blog.csdn.net/bluejoe2000/article/details/80505922" target="_blank" rel="noopener">Neo4j Bloom</a></p><p><a href="https://blog.csdn.net/qq_32653877/article/details/71436301" target="_blank" rel="noopener">用vis.js库实现Neo4j的可视化</a></p><p><a href="https://blog.csdn.net/zhongzhu2002/article/details/45843283" target="_blank" rel="noopener">用cytoscape.js展示neo4j网络关系图</a></p><hr><h2 id="56-超图"><a class="markdownIt-Anchor" href="#56-超图"></a> 5.6. 超图</h2><p>超图（一边多点）：Sones, HyperGraphDB , Trinity</p><p><a href="https://www.cnblogs.com/panghaohan/p/6479541.html" target="_blank" rel="noopener">超图理论的一点理解</a></p><hr><h1 id="6-应用和案例"><a class="markdownIt-Anchor" href="#6-应用和案例"></a> 6. 应用和案例</h1><hr><h2 id="61-应用领域"><a class="markdownIt-Anchor" href="#61-应用领域"></a> 6.1. 应用领域</h2><ul><li>智能搜索</li><li>深度问答</li><li>社交网络</li><li>垂直行业：金融、医疗</li></ul><p>具体参看<a href="https://wenku.baidu.com/view/e69a3619fe00bed5b9f3f90f76c66137ee064f15.html?rec_flag=default&amp;sxts=1531989105320" target="_blank" rel="noopener">知识图谱构建技术综述-许增林-盛泳潘</a></p><hr><h2 id="62-案例"><a class="markdownIt-Anchor" href="#62-案例"></a> 6.2. 案例</h2><p><a href="https://blog.csdn.net/tobacco5648/article/details/50513949" target="_blank" rel="noopener">三种知识图谱：Knowledge Graph、Freebase、Wikidata</a></p><p><a href="https://zhuanlan.zhihu.com/p/39237778" target="_blank" rel="noopener">语义搜索</a></p><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">开放知识图谱DBpedia、Yago、Wikidata、BabelNet、ConceptNet以及Microsoft Concept Graph,还有OpenKG</a></p><hr><p>股票投研情报分析</p><center><img src="resource/20180915/19.png" width="75%"></center><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处</a></p><hr><p>公安情报分析</p><center><img src="resource/20180915/20.png" width="75%"></center><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处</a></p><hr><p>反欺诈情报分析</p><center><img src="resource/20180915/21.png" width="75%"></center><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处</a></p><hr><h2 id="63-商业公司"><a class="markdownIt-Anchor" href="#63-商业公司"></a> 6.3. 商业公司</h2><p><a href="https://blog.csdn.net/sinat_26917383/article/details/66473253" target="_blank" rel="noopener">知识图谱+Recorder︱中文知识图谱API与工具、科研机构与算法框架</a></p><ul><li>唯品金融大数据</li><li>PlantData知识图谱数据智能平台</li><li>拍拍贷图数据库技术</li><li>CN-DBpedia</li><li><a href="http://OpenKG.CN" target="_blank" rel="noopener">OpenKG.CN</a>——开放的中文知识图谱</li><li>楚辞</li><li>海致大数据</li><li>腾讯云星图</li><li>网感至察</li></ul><p><a href="https://blog.csdn.net/sinat_26917383/article/details/66473253" target="_blank" rel="noopener">点击出处</a></p><hr><ul><li>复旦大学 Knowledge Works</li><li>思知（OwnThink）</li><li><a href="http://Zhishi.me" target="_blank" rel="noopener">Zhishi.me</a></li><li>交大的Acenap</li><li>清华大学的openKE</li><li>自然语言处理工具包HanLP</li><li>scikit-kge: MIT知识图谱embedding工具包</li><li>RDFox: 牛津大学的知识库推理工具（推荐）</li><li>中国知网</li><li>浙江大学：创新设计产品库</li><li>中草药知识服务系统</li><li>中国工程科技知识中心</li><li>NLPIR</li><li>开放域中文知识图谱《大词林》</li></ul><p><a href="https://blog.csdn.net/sinat_26917383/article/details/66473253" target="_blank" rel="noopener">点击出处</a></p><hr><h1 id="7-总结"><a class="markdownIt-Anchor" href="#7-总结"></a> 7. 总结</h1><hr><p>知识图谱是知识工程的一个分支，以知识工程中语义网络作为理论基础，并且结合了机器学习，自然语言处理和知识表示和推理的最新成果，在大数据的推动下受到了业界和学术界的广泛关注。知识图谱对于解决大数据中文本分析和图像理解问题发挥重要作用。目前，知识图谱研究已经取得了很多成果，形成了一些开放的知识图谱。但是，知识图谱的发展还存在以下障碍。首先，虽然大数据时代已经产生了海量的数据，但是数据发布缺乏规范，而且数据质量不高，从这些数据中挖掘高质量的知识需要处理数据噪音问题。其次，垂直领域的知识图谱构建缺乏自然语言处理方面的资源，特别是词典的匮乏使得垂直领域知识图谱构建代价很大。最后，知识图谱构建缺乏开源的工具，目前很多研究工作都不具备实用性，而且很少有工具发布。通用的知识图谱构建平台还很难实现。</p><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">点击出处</a></p><hr><h1 id="8-延伸阅读"><a class="markdownIt-Anchor" href="#8-延伸阅读"></a> 8. 延伸阅读</h1><hr><p><a href="https://wenku.baidu.com/view/91a117a68662caaedd3383c4bb4cf7ec4afeb61b.html?pn=50" target="_blank" rel="noopener">大规模知识图谱数据存储-Final</a></p><p><a href="https://www.cnblogs.com/panghaohan/p/6479541.html" target="_blank" rel="noopener">超图理论的一点理解</a></p><p><a href="https://blog.csdn.net/u011801161/article/details/78833958" target="_blank" rel="noopener">知识图谱基础之RDF，RDFS与OWL</a></p><center><img src="resource/20180915/14.jpg" width="75%"></center><hr><h1 id="9-参考资料"><a class="markdownIt-Anchor" href="#9-参考资料"></a> 9. 参考资料</h1><hr><h2 id="91-主要参考资料"><a class="markdownIt-Anchor" href="#91-主要参考资料"></a> 9.1. 主要参考资料</h2><p><a href="https://mp.weixin.qq.com/s/bhk6iZdphif74HJlyUZOBQ" target="_blank" rel="noopener">最全知识图谱综述: 概念以及构建技术</a></p><p><a href="https://zhuanlan.zhihu.com/p/29334147" target="_blank" rel="noopener">大规模知识图谱的构建、推理及应用</a></p><p><a href="https://wenku.baidu.com/view/e69a3619fe00bed5b9f3f90f76c66137ee064f15.html?rec_flag=default&amp;sxts=1531989105320" target="_blank" rel="noopener">知识图谱构建技术综述-许增林-盛泳潘</a></p><p><a href="https://wenku.baidu.com/view/9c956feaac51f01dc281e53a580216fc710a5377.html" target="_blank" rel="noopener">知识图谱构建技术综述-刘峤-李杨</a></p><p><a href="https://blog.csdn.net/qq547276542/article/details/78386628" target="_blank" rel="noopener">知识图谱构建技术综述</a></p><p><a href="http://www.360doc.com/content/18/0320/05/39913792_738598481.shtml" target="_blank" rel="noopener">知识图谱怎样入门</a></p><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">知识图谱研究进展</a></p><p><a href="https://www.cnblogs.com/hadoopdev/p/8203971.html" target="_blank" rel="noopener">2017知识图谱存储系统排名</a></p><p><a href="https://blog.csdn.net/fkyyly/article/details/44181161" target="_blank" rel="noopener">nosql图数据库的比较</a></p><p><a href="https://wenku.baidu.com/view/91a117a68662caaedd3383c4bb4cf7ec4afeb61b.html?pn=50" target="_blank" rel="noopener">大规模知识图谱数据存储-Final</a></p><p><a href="https://blog.csdn.net/sinat_26917383/article/details/66473253" target="_blank" rel="noopener">知识图谱+Recorder︱中文知识图谱API与工具、科研机构与算法框架</a></p><h2 id="92-其他参考资料"><a class="markdownIt-Anchor" href="#92-其他参考资料"></a> 9.2. 其他参考资料</h2><p><a href="https://www.cnblogs.com/panghaohan/p/6479541.html" target="_blank" rel="noopener">超图理论的一点理解</a></p><p><a href="http://www.aboutyun.com/thread-12962-1-1.html" target="_blank" rel="noopener">现在的开源图形数据库有哪些？</a></p><p><a href="https://www.jianshu.com/p/6cab7a150755" target="_blank" rel="noopener">主流图数据库Neo4J、ArangoDB、OrientDB综合对比：架构分析</a></p><p><a href="http://www.odbms.org/wp-content/uploads/2013/11/Sones-AchimFriedland.pdf" target="_blank" rel="noopener">The GraphDB Landscape and sones</a></p><p><a href="https://blog.csdn.net/fkyyly/article/details/44181161" target="_blank" rel="noopener">nosql图数据库的比较</a></p><p><a href="https://blog.csdn.net/tobacco5648/article/details/50513949" target="_blank" rel="noopener">三种知识图谱：Knowledge Graph、Freebase、Wikidata</a></p><p><a href="https://zhuanlan.zhihu.com/p/39237778" target="_blank" rel="noopener">语义搜索</a></p><p><a href="https://blog.csdn.net/eli00001/article/details/64913157?locationNum=4&amp;fps=1" target="_blank" rel="noopener">开放知识图谱DBpedia、Yago、Wikidata、BabelNet、ConceptNet以及Microsoft Concept Graph,还有OpenKG</a></p><p><a href="https://blog.csdn.net/u011801161/article/details/78833958" target="_blank" rel="noopener">知识图谱基础之RDF，RDFS与OWL</a></p><p><a href="https://blog.csdn.net/richgene/article/details/80481044" target="_blank" rel="noopener">知识图谱（Knowledge Graph）专知荟萃</a></p><hr>]]></content>
    
    <summary type="html">
    
      本文介绍如何知识图谱的概念、如何构建知识图谱、及其应用。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="知识概念" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/"/>
    
    
      <category term="知识图谱" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/"/>
    
      <category term="知识表示" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E7%9F%A5%E8%AF%86%E8%A1%A8%E7%A4%BA/"/>
    
      <category term="图数据库" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="neo4j" scheme="https://xiaotiandi.github.io/publicBlog/tags/neo4j/"/>
    
  </entry>
  
  <entry>
    <title>个人博客正式上线啦～中秋节吉祥～世界你好</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-24-37305537.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-24-37305537.html</id>
    <published>2018-09-24T04:00:00.000Z</published>
    <updated>2018-09-22T10:29:19.841Z</updated>
    
    <content type="html"><![CDATA[<p>中秋节吉祥～～～</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;中秋节吉祥～～～&lt;/p&gt;

      
    
    </summary>
    
      <category term="日常生活" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="日常生活" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客配置-总览</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-20-f55aca41.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-20-f55aca41.html</id>
    <published>2018-09-20T04:00:00.000Z</published>
    <updated>2018-11-02T03:46:58.192Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-个人总结的配置方案"><a class="markdownIt-Anchor" href="#1-个人总结的配置方案"></a> 1. 个人总结的配置方案</h2><ul><li><a href="/publicBlog/2018-08-16-fa8e82cc.html" title="为什么用hexo-coding-next-docker构建个人博客">为什么用hexo-coding-next-docker构建个人博客</a></li><li><a href="/publicBlog/2018-08-17-cb10f677.html" title="Hexo博客搭建-用hexo-coding-next搭建个人博客">Hexo博客搭建-用hexo-coding-next搭建个人博客</a></li><li><a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></li><li><a href="/publicBlog/2018-09-19-1985df3b.html" title="hexo博客配置-代码块折叠">hexo博客配置-代码块折叠</a></li><li><a href="/publicBlog/2018-09-19-dab4328f.html" title="hexo博客配置-插入各类文件">hexo博客配置-插入各类文件</a></li><li><a href="/publicBlog/2018-09-19-dab4328f.html" title="hexo博客配置-添加首行缩进和高亮代码块缩进">hexo博客配置-添加首行缩进和高亮代码块缩进</a></li><li><a href="/publicBlog/2018-09-20-dd56df28.html" title="hexo博客配置-自建标签Bug解决方案">hexo博客配置-自建标签Bug解决方案</a></li><li><a href="/publicBlog/2018-09-19-a17da0df.html" title="hexo博客配置-添加版权申明">hexo博客配置-添加版权申明</a></li><li><a href="/publicBlog/2018-09-19-d196c9ad.html" title="hexo博客配置-添加评论系统-gitment和valine-需注册">hexo博客配置-添加评论系统-gitment和valine-需注册</a></li><li></li><li></li></ul><p>下文针对个人配置Hexo博客的事项，总览已办待办。</p><a id="more"></a><h2 id="2-别的功能事项"><a class="markdownIt-Anchor" href="#2-别的功能事项"></a> 2. 别的功能事项</h2><h3 id="21-参考alvabill的博客-hexo搭建个人博客next主题优化"><a class="markdownIt-Anchor" href="#21-参考alvabill的博客-hexo搭建个人博客next主题优化"></a> 2.1. 参考<a href="https://www.jianshu.com/p/1f8107a8778c" target="_blank" rel="noopener">Alvabill的博客-hexo搭建个人博客–NexT主题优化</a></h3><h4 id="211-不需要注册"><a class="markdownIt-Anchor" href="#211-不需要注册"></a> 2.1.1. 不需要注册</h4><ul><li><p><input type="checkbox" id="checkbox0"><label for="checkbox0">文章排序优先级设置</label></p></li><li><p><input type="checkbox" id="checkbox1"><label for="checkbox1">添加背景动画</label></p></li><li><p><input type="checkbox" id="checkbox2"><label for="checkbox2">修改文章底部标签样式</label></p></li><li><p><input type="checkbox" id="checkbox3"><label for="checkbox3">文章末尾统一添加“本文结束”标记</label></p></li><li><p><input type="checkbox" id="checkbox4"><label for="checkbox4">修改作者头像并旋转</label></p></li><li><p><input type="checkbox" id="checkbox5" checked="true"><label for="checkbox5">左上角或右上角的Github样式</label></p></li><li><p><input type="checkbox" id="checkbox6" checked="true"><label for="checkbox6">分类和标签的设置</label></p></li><li><p><input type="checkbox" id="checkbox7" checked="true"><label for="checkbox7">添加RSS</label></p></li><li><p><input type="checkbox" id="checkbox8" checked="true"><label for="checkbox8">底部显示建站时间和图标修改</label></p></li><li><p><input type="checkbox" id="checkbox9" checked="true"><label for="checkbox9">推荐阅读</label></p></li><li><p><input type="checkbox" id="checkbox10" checked="true"><label for="checkbox10">微信支付宝打赏功能，此处为了显示好看，编辑了文件</label><code>themes/hexo-theme-next/layout/_macro/reward.swig</code></p></li></ul><h4 id="212-需要注册"><a class="markdownIt-Anchor" href="#212-需要注册"></a> 2.1.2. 需要注册</h4><ul><li><input type="checkbox" id="checkbox11"><label for="checkbox11">添加文章评分功能</label></li><li><input type="checkbox" id="checkbox12"><label for="checkbox12">在线联系</label></li></ul><h4 id="213-待完善功能"><a class="markdownIt-Anchor" href="#213-待完善功能"></a> 2.1.3. 待完善功能</h4><ul><li><input type="checkbox" id="checkbox13"><label for="checkbox13">设置站点icon</label></li><li><input type="checkbox" id="checkbox14"><label for="checkbox14">添加侧边栏社交链接</label></li><li><input type="checkbox" id="checkbox15"><label for="checkbox15">添加侧边栏友情链接</label></li></ul><h3 id="22-参考别的博客"><a class="markdownIt-Anchor" href="#22-参考别的博客"></a> 2.2. 参考别的博客</h3><h4 id="221-不需要注册"><a class="markdownIt-Anchor" href="#221-不需要注册"></a> 2.2.1. 不需要注册</h4><ul><li><p><input type="checkbox" id="checkbox16"><label for="checkbox16"></label><a href="https://blog.csdn.net/weixin_42556146/article/details/80825258" target="_blank" rel="noopener">博客搭建相册</a></p></li><li><p><input type="checkbox" id="checkbox17"><label for="checkbox17"></label><a href="https://segmentfault.com/a/1190000010434546" target="_blank" rel="noopener">后台管理与在线编辑</a></p></li><li><p><input type="checkbox" id="checkbox18"><label for="checkbox18"></label><a href="https://blog.csdn.net/babylove_BaLe/article/details/76824372?locationNum=8&amp;fps=1" target="_blank" rel="noopener">在Hexo发布博客的MarkDown文件中引入JS代码</a></p></li><li><p><input type="checkbox" id="checkbox19"><label for="checkbox19"></label><a href="https://github.com/wzpan/hexo-renderer-pandoc" target="_blank" rel="noopener">hexo-renderer-pandoc</a></p></li><li><p><input type="checkbox" id="checkbox20"><label for="checkbox20"></label><a href="https://www.cnblogs.com/e1sewhere/p/9357689.html" target="_blank" rel="noopener">定制\custom.styl</a></p></li><li><p><input type="checkbox" id="checkbox21" checked="true"><label for="checkbox21"></label><a href="https://blog.csdn.net/u011054333/article/details/82718910" target="_blank" rel="noopener">添加看板娘live2D</a>或者<a href="https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md" target="_blank" rel="noopener">添加看板娘live2Dmore</a></p></li><li><p><input type="checkbox" id="checkbox22" checked="true"><label for="checkbox22"></label><a href="https://blog.csdn.net/lanuage/article/details/78991798" target="_blank" rel="noopener">hexo next主题为博客添加分享功能</a></p></li><li><p><input type="checkbox" id="checkbox23" checked="true"><label for="checkbox23"></label><a href="https://blog.csdn.net/shenyuflying/article/details/53244858" target="_blank" rel="noopener">hexo添加留言板</a></p></li><li><p><input type="checkbox" id="checkbox24" checked="true"><label for="checkbox24"></label><a href="http://www.hiekay.com/2018/09/07/%E7%BB%99%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E3%80%81%E5%85%B1%E4%BA%AB%E6%8C%89%E9%92%AE%E3%80%81%E6%89%93%E8%B5%8F/" target="_blank" rel="noopener">hexo给博客添加版权、共享按钮、打赏</a></p></li><li><p><input type="checkbox" id="checkbox25" checked="true"><label for="checkbox25"></label><a href="https://github.com/pirtleshell/hexo-include" target="_blank" rel="noopener">hexo-include</a></p></li><li><p><input type="checkbox" id="checkbox26" checked="true"><label for="checkbox26"></label><a href="https://github.com/theme-next/theme-next-han" target="_blank" rel="noopener">漢語標準格式支持</a></p></li><li><p><input type="checkbox" id="checkbox27" checked="true"><label for="checkbox27"></label><a href="https://github.com/theme-next/theme-next-pace" target="_blank" rel="noopener">进度条支持</a></p></li><li><p><input type="checkbox" id="checkbox28" checked="true"><label for="checkbox28"></label><a href="https://github.com/theme-next/hexo-symbols-count-time" target="_blank" rel="noopener">新版阅读次数和字数统计1</a>和<a href="https://www.jianshu.com/p/3a01cc514ce7?utm_source=oschina-app" target="_blank" rel="noopener">新版阅读次数和字数统计2</a></p></li><li><p><input type="checkbox" id="checkbox29" checked="true"><label for="checkbox29">阅读次数和字数统计</label><a href="https://blog.csdn.net/ddydavie/article/details/83020549" target="_blank" rel="noopener">Hexo Next 解决Busuanzi统计浏览失效</a>或者<a href="https://www.jianshu.com/p/702a7aec4d00" target="_blank" rel="noopener">Hexo添加不蒜子和LeanCloud统计无标题文章</a>和<a href="https://leaferx.online/2018/02/11/lc-security/" target="_blank" rel="noopener">Leancloud访客统计插件重大安全漏洞修复指南</a></p></li><li><p><input type="checkbox" id="checkbox30" checked="true"><label for="checkbox30"></label><a href="https://blog.csdn.net/panchao888888/article/details/80666352#jump6" target="_blank" rel="noopener">添加站内搜索功能</a></p></li><li><p><input type="checkbox" id="checkbox31" checked="true"><label for="checkbox31"></label><a href="https://blog.csdn.net/panchao888888/article/details/80666352#jump4" target="_blank" rel="noopener">新建带日期格式的博文</a></p></li><li><p><input type="checkbox" id="checkbox32" checked="true"><label for="checkbox32"></label><a href="https://blog.csdn.net/panchao888888/article/details/80666352#jump4" target="_blank" rel="noopener">链接持久化</a></p></li><li><p><input type="checkbox" id="checkbox33" checked="true"><label for="checkbox33"></label><a href="https://chriszheng.science/2015/11/08/Checkbox-for-markdown-mode/" target="_blank" rel="noopener">复选框(Checkbox)支持</a></p></li><li><p><input type="checkbox" id="checkbox34" checked="true"><label for="checkbox34"></label><a href="https://ohmyarch.github.io/2014/12/24/Hexo%E4%B8%BB%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%91%98%E8%A6%81/" target="_blank" rel="noopener">主页显示摘要</a></p></li><li><p><input type="checkbox" id="checkbox35" checked="true"><label for="checkbox35">渲染Latex数学公式</label><br><a href="https://blog.csdn.net/u014792304/article/details/78687859" target="_blank" rel="noopener">如何在Hexo中渲染Latex数学公式</a><br><a href="https://github.com/CHENXCHEN/Hexo-renderer-markdown-it-plus" target="_blank" rel="noopener">guthub-Hexo-renderer-markdown-it-plus</a></p></li></ul><h4 id="222-需要注册"><a class="markdownIt-Anchor" href="#222-需要注册"></a> 2.2.2. 需要注册</h4><ul><li><input type="checkbox" id="checkbox36"><label for="checkbox36"></label><a href="https://www.jianshu.com/p/7e1166eb412a" target="_blank" rel="noopener">github+hexo提交到百度谷歌搜索引擎</a>太过麻烦，还是等等主题更新后能不能方便点。</li></ul><h3 id="23-其他想到的"><a class="markdownIt-Anchor" href="#23-其他想到的"></a> 2.3. 其他想到的</h3><ul><li><input type="checkbox" id="checkbox37"><label for="checkbox37">背景音乐</label></li><li><input type="checkbox" id="checkbox38"><label for="checkbox38">背景图片</label></li><li><input type="checkbox" id="checkbox39"><label for="checkbox39">文章标题处添加作者</label></li><li><input type="checkbox" id="checkbox40" checked="true"><label for="checkbox40">check-box不能用</label></li></ul><h3 id="24-需要参考的网页"><a class="markdownIt-Anchor" href="#24-需要参考的网页"></a> 2.4. 需要参考的网页</h3><p><a href="https://blog.csdn.net/tianlong1929/article/details/80503933" target="_blank" rel="noopener">Hexo NexT主题相关配置的整理总结</a></p><h2 id="3-注意事项"><a class="markdownIt-Anchor" href="#3-注意事项"></a> 3. 注意事项</h2><p>另外，next主题从5到6的版本更新要注意，许多lib不能用了。<a href="https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/UPDATE-FROM-5.1.X.md" target="_blank" rel="noopener">从 NexT v5.1.x 更新</a></p><h2 id="4-其他参考"><a class="markdownIt-Anchor" href="#4-其他参考"></a> 4. 其他参考</h2><p><a href="https://blog.csdn.net/tianlong1929/article/details/80503933" target="_blank" rel="noopener">Hexo NexT主题相关配置的整理总结</a></p><p><a href="https://www.jianshu.com/p/1f8107a8778c" target="_blank" rel="noopener">Hexo搭建个人博客–NexT主题优化-来自Alvabill</a></p><p><a href="https://blog.csdn.net/panchao888888/article/details/80666352" target="_blank" rel="noopener">Hexo博客NexT主题终极配置</a></p><p><a href="https://www.jianshu.com/p/f054333ac9e6" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a></p><p><a href="https://Hexo.io/plugins/" target="_blank" rel="noopener">Hexo官网插件</a></p><p><a href="https://blog.csdn.net/acm_th/article/details/79974513" target="_blank" rel="noopener">Hexo Next 四种主题</a></p><p><a href="http://www.ixirong.com/2016/08/17/hexo-next-plugin-test/" target="_blank" rel="noopener">hexo/next常见插件使用技巧</a></p><p><a href="https://blog.csdn.net/tianlong1929/article/details/80503933" target="_blank" rel="noopener">Hexo NexT主题相关配置的整理总结</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-个人总结的配置方案&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#1-个人总结的配置方案&quot;&gt;&lt;/a&gt; 1. 个人总结的配置方案&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-08-16-fa8e82cc.html&quot; title=&quot;为什么用hexo-coding-next-docker构建个人博客&quot;&gt;为什么用hexo-coding-next-docker构建个人博客&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-08-17-cb10f677.html&quot; title=&quot;Hexo博客搭建-用hexo-coding-next搭建个人博客&quot;&gt;Hexo博客搭建-用hexo-coding-next搭建个人博客&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-08-17-f4bcb518.html&quot; title=&quot;hexo博客配置-主题管理与配置&quot;&gt;hexo博客配置-主题管理与配置&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-09-19-1985df3b.html&quot; title=&quot;hexo博客配置-代码块折叠&quot;&gt;hexo博客配置-代码块折叠&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-09-19-dab4328f.html&quot; title=&quot;hexo博客配置-插入各类文件&quot;&gt;hexo博客配置-插入各类文件&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-09-19-dab4328f.html&quot; title=&quot;hexo博客配置-添加首行缩进和高亮代码块缩进&quot;&gt;hexo博客配置-添加首行缩进和高亮代码块缩进&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-09-20-dd56df28.html&quot; title=&quot;hexo博客配置-自建标签Bug解决方案&quot;&gt;hexo博客配置-自建标签Bug解决方案&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-09-19-a17da0df.html&quot; title=&quot;hexo博客配置-添加版权申明&quot;&gt;hexo博客配置-添加版权申明&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;/publicBlog/2018-09-19-d196c9ad.html&quot; title=&quot;hexo博客配置-添加评论系统-gitment和valine-需注册&quot;&gt;hexo博客配置-添加评论系统-gitment和valine-需注册&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;

&lt;/li&gt;
&lt;li&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下文针对个人配置Hexo博客的事项，总览已办待办。&lt;/p&gt;
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="计划" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E8%AE%A1%E5%88%92/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置-自建标签Bug解决方案</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-20-dd56df28.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-20-dd56df28.html</id>
    <published>2018-09-20T04:00:00.000Z</published>
    <updated>2018-09-20T02:13:44.978Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文所用的架构或思路参考该文：<a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></p></blockquote><h2 id="修复自建tag里写代码块渲染成undefined的问题"><a class="markdownIt-Anchor" href="#修复自建tag里写代码块渲染成undefined的问题"></a> 修复自建tag里写代码块，渲染成undefined的问题</h2><p>只需添加文件<code>hexo-theme-next/scripts/custom/debugCustom.js</code>如下</p><figure class="highlight js"><figcaption><span>debugCustom.js</span><a href="/publicBlog/./../themes/hexo-theme-next/scripts/custom/debugCustom.js">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ledong修复自建tag里写 ```代码块```，渲染成 undefined 的问题: </span></span><br><span class="line"><span class="comment">// https://www.oyohyee.com/post/Note/hexo_tag/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @haohuawu</span></span><br><span class="line"><span class="comment">  修复 Nunjucks 的 tag 里写 ```代码块```，最终都会渲染成 undefined 的问题</span></span><br><span class="line"><span class="comment">  https://github.com/hexojs/hexo/issues/2400</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> rEscapeContent = <span class="regexp">/&lt;escape(?:[^&gt;]*)&gt;([\s\S]*?)&lt;\/escape&gt;/g</span>;</span><br><span class="line"><span class="keyword">const</span> placeholder = <span class="string">'\uFFFD'</span>;</span><br><span class="line"><span class="keyword">const</span> rPlaceholder = <span class="regexp">/(?:&lt;|&amp;lt;)\!--\uFFFD(\d+)--(?:&gt;|&amp;gt;)/g</span>;</span><br><span class="line"><span class="keyword">const</span> cache = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeContent</span>(<span class="params">str</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'&lt;!--'</span> + placeholder + (cache.push(str) - <span class="number">1</span>) + <span class="string">'--&gt;'</span>;</span><br><span class="line">}</span><br><span class="line">hexo.extend.filter.register(<span class="string">'before_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>{</span><br><span class="line">  data.content = data.content.replace(rEscapeContent, <span class="function"><span class="keyword">function</span>(<span class="params">match, content</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> escapeContent(content);</span><br><span class="line">  });</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">});</span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>{</span><br><span class="line">  data.content = data.content.replace(rPlaceholder, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> cache[<span class="built_in">arguments</span>[<span class="number">1</span>]];</span><br><span class="line">  });</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">});</span><br></pre></td></tr></table></figure><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><p><a href="https://www.cnblogs.com/woshimrf/p/hexo-fold-block.html" target="_blank" rel="noopener">参考1：Hexo添加代码块折叠</a></p><p><a href="https://www.oyohyee.com/post/Note/hexo_tag/" target="_blank" rel="noopener">参考2：Hexo自建标签渲染代码段Bug解决方案</a></p>]]></content>
    
    <summary type="html">
    
      本文主要介绍如何在Hexo中解决自建标签渲染代码段Bug的问题。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="代码风格" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置-代码块折叠</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-19-1985df3b.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-19-1985df3b.html</id>
    <published>2018-09-19T04:00:00.000Z</published>
    <updated>2018-09-20T12:56:35.383Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文所用的架构或思路参考该文：<a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></p></blockquote><h2 id="添加代码块折叠功能"><a class="markdownIt-Anchor" href="#添加代码块折叠功能"></a> 添加代码块折叠功能</h2><p>先建立<code>hexo-theme-next/scripts/custom/fold_tag.js</code>，</p><figure class="highlight js"><figcaption><span>fold_tag.js</span><a href="/publicBlog/./../themes/hexo-theme-next/scripts/custom/fold_tag.js">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ledong代码折叠功能添加: https://blog.rmiao.top/hexo-fold-block/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* global hexo */</span></span><br><span class="line"><span class="comment">// Usage: {% fold ???? %} Something {% endfold %}</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fold</span> (<span class="params">args, content</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> text = args[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">if</span>(!text) text = <span class="string">"点击显/隐"</span>;</span><br><span class="line">    <span class="keyword">var</span> str1 = <span class="string">'&lt;div class="fold_hider"&gt;&lt;div class="close hider_title"&gt;&lt;span style="color:gray;font-size:12px"&gt;'</span> + text + <span class="string">'&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;'</span></span><br><span class="line">    <span class="keyword">var</span> str2 = <span class="string">'&lt;div class="fold"&gt;\n'</span>+ hexo.render.renderSync({<span class="attr">text</span>: content, <span class="attr">engine</span>: <span class="string">'markdown'</span>}) + <span class="string">'\n&lt;/div&gt;'</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;div style="margin-top: -20px;"&gt;'</span>+ str1 +str2 + str1+ <span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">}</span><br><span class="line">hexo.extend.tag.register(<span class="string">'fold'</span>, fold, {<span class="attr">ends</span>: <span class="literal">true</span>});</span><br></pre></td></tr></table></figure><p>还有<code>hexo-theme-next/source/custom/fold_action.js</code>文件，</p><figure class="highlight js"><figcaption><span>fold_action.js</span><a href="/publicBlog/./../themes/hexo-theme-next/source/custom/fold_action.js">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ledong代码折叠功能添加: https://blog.rmiao.top/hexo-fold-block/</span></span><br><span class="line"></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'.fold_hider'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        $(<span class="string">'&gt;.fold'</span>, <span class="keyword">this</span>.parentNode).slideToggle();</span><br><span class="line">        $(<span class="string">'&gt;:first'</span>, <span class="keyword">this</span>).toggleClass(<span class="string">'open'</span>);</span><br><span class="line">    });</span><br><span class="line">    <span class="comment">//默认情况下折叠</span></span><br><span class="line">    $(<span class="string">"div.fold"</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>然后创建文件<code>hexo-theme-next/layout/_custom/post-details.swig</code>如下</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;# hexo-theme-next/layout/_custom/post-details.swig</span><br><span class="line">add to: themes/hexo-theme-next/layout/_scripts/pages/post-details.swig</span><br><span class="line">#&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for(theme.custom) &#125;&#125;/fold_action.js?v=&#123;&#123; version &#125;&#125;"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>并在<code>themes/hexo-theme-next/layout/_scripts/pages/post-details.swig</code>的末尾加上：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &apos;../../_custom/post-details.swig&apos; %&#125;</span><br></pre></td></tr></table></figure><p>注意：还需修改主题下的<code>_config.yml</code>如下，即加入&quot;custom: custom&quot;(其实是配置了source目录下的文件夹).</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Assets</span></span><br><span class="line"><span class="attr">css:</span> <span class="string">css</span></span><br><span class="line"><span class="attr">js:</span> <span class="string">js</span></span><br><span class="line"><span class="attr">images:</span> <span class="string">images</span></span><br><span class="line"><span class="attr">custom:</span> <span class="string">custom</span></span><br></pre></td></tr></table></figure><p>最后，修改<code>hexo-theme-next/source/css/_custom/custom.styl</code>配置风格：</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ledong代码折叠功能添加: https://www.cnblogs.com/woshimrf/p/hexo-fold-block.html</span></span><br><span class="line">.hider_title&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">"Microsoft Yahei"</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.close</span>:before&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"▼"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.open</span>:before&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"▲"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">div</span><span class="selector-class">.fold_hider</span> &#123; <span class="attribute">margin-left</span>: <span class="number">1.5em</span>&#125;</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">div</span><span class="selector-class">.fold</span> &#123; <span class="attribute">margin-top</span>: -<span class="number">15px</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="使用方法"><a class="markdownIt-Anchor" href="#使用方法"></a> 使用方法</h2><div style="margin-top: -20px;"><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div><div class="fold"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% fold 点击显/隐内容 %&#125;</span><br><span class="line">somthing...</span><br><span class="line">&#123;% endfold %&#125;</span><br></pre></td></tr></table></figure></div><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div></div><h2 id="修复自建tag里写代码块渲染成undefined的问题"><a class="markdownIt-Anchor" href="#修复自建tag里写代码块渲染成undefined的问题"></a> 修复自建tag里写代码块，渲染成undefined的问题</h2><p>参考该文：<a href="/publicBlog/2018-09-20-dd56df28.html" title="hexo博客配置-自建标签Bug解决方案">hexo博客配置-自建标签Bug解决方案</a></p><p>只需添加文件<code>hexo-theme-next/scripts/custom/debugCustom.js</code>如下</p><figure class="highlight js"><figcaption><span>debugCustom.js</span><a href="/publicBlog/./../themes/hexo-theme-next/scripts/custom/debugCustom.js">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ledong修复自建tag里写 ```代码块```，渲染成 undefined 的问题: </span></span><br><span class="line"><span class="comment">// https://www.oyohyee.com/post/Note/hexo_tag/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @haohuawu</span></span><br><span class="line"><span class="comment">  修复 Nunjucks 的 tag 里写 ```代码块```，最终都会渲染成 undefined 的问题</span></span><br><span class="line"><span class="comment">  https://github.com/hexojs/hexo/issues/2400</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> rEscapeContent = <span class="regexp">/&lt;escape(?:[^&gt;]*)&gt;([\s\S]*?)&lt;\/escape&gt;/g</span>;</span><br><span class="line"><span class="keyword">const</span> placeholder = <span class="string">'\uFFFD'</span>;</span><br><span class="line"><span class="keyword">const</span> rPlaceholder = <span class="regexp">/(?:&lt;|&amp;lt;)\!--\uFFFD(\d+)--(?:&gt;|&amp;gt;)/g</span>;</span><br><span class="line"><span class="keyword">const</span> cache = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeContent</span>(<span class="params">str</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'&lt;!--'</span> + placeholder + (cache.push(str) - <span class="number">1</span>) + <span class="string">'--&gt;'</span>;</span><br><span class="line">}</span><br><span class="line">hexo.extend.filter.register(<span class="string">'before_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>{</span><br><span class="line">  data.content = data.content.replace(rEscapeContent, <span class="function"><span class="keyword">function</span>(<span class="params">match, content</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> escapeContent(content);</span><br><span class="line">  });</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">});</span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>{</span><br><span class="line">  data.content = data.content.replace(rPlaceholder, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> cache[<span class="built_in">arguments</span>[<span class="number">1</span>]];</span><br><span class="line">  });</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">});</span><br></pre></td></tr></table></figure><h2 id="局限"><a class="markdownIt-Anchor" href="#局限"></a> 局限</h2><ul><li>不能如此嵌套使用（但可嵌套正常代码块），待改进</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% fold 点击显/隐内容 %&#125;</span><br><span class="line">&#123;% include_code [title] [lang:language] path/to/file %&#125;</span><br><span class="line">&#123;% endfold %&#125;</span><br></pre></td></tr></table></figure><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><p><a href="https://www.cnblogs.com/woshimrf/p/hexo-fold-block.html" target="_blank" rel="noopener">参考1：Hexo添加代码块折叠</a></p><p><a href="https://www.oyohyee.com/post/Note/hexo_tag/" target="_blank" rel="noopener">参考2：Hexo自建标签渲染代码段Bug解决方案</a></p>]]></content>
    
    <summary type="html">
    
      本文主要介绍如何在Hexo中折叠代码块。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="代码风格" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置-添加首行缩进和高亮代码块缩进</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-19-dab4328f.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-19-dab4328f.html</id>
    <published>2018-09-19T04:00:00.000Z</published>
    <updated>2018-09-20T12:54:18.158Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文所用的架构或思路参考该文：<a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></p></blockquote><h2 id="添加首行缩进和高亮代码块的缩进"><a class="markdownIt-Anchor" href="#添加首行缩进和高亮代码块的缩进"></a> 添加首行缩进和高亮代码块的缩进</h2><p>修改主题目录下的<code>source/css/_custom/custom.styl</code></p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> &#123; <span class="attribute">text-indent</span>: <span class="number">1em</span>; &#125;</span><br><span class="line"><span class="selector-class">.post-body</span> li&gt;<span class="selector-tag">p</span> &#123; <span class="attribute">text-indent</span>: <span class="number">0em</span>; &#125;</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">div</span><span class="selector-class">.highlight-wrap</span> &#123; <span class="attribute">margin-left</span>: <span class="number">2em</span>; <span class="attribute">margin-right</span>: <span class="number">2em</span>;&#125;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/iissnan/hexo-theme-next/issues/680" target="_blank" rel="noopener">参考:建议加入文字首行缩进</a></p>]]></content>
    
    <summary type="html">
    
      本文主要介绍如何在Hexo中实现首行缩进和高亮代码块缩进等。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="文本风格" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%96%87%E6%9C%AC%E9%A3%8E%E6%A0%BC/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置-添加版权申明</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-19-a17da0df.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-19-a17da0df.html</id>
    <published>2018-09-19T04:00:00.000Z</published>
    <updated>2018-09-22T06:55:02.395Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文所用的架构或思路参考该文：<a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></p></blockquote><h2 id="添加版权申明"><a class="markdownIt-Anchor" href="#添加版权申明"></a> 添加版权申明</h2><p>先更改<code>themes/hexo-theme-next/layout/_macro/post-copyright.swig</code></p><figure class="highlight plain"><figcaption><span>post-copyright.swig</span><a href="/publicBlog/./../themes/hexo-theme-next/layout/_macro/post-copyright.swig">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul class=&quot;post-copyright&quot;&gt;</span><br><span class="line">  &lt;li class=&quot;post-copyright-author&quot;&gt;</span><br><span class="line">    &lt;strong&gt;{{ __(&apos;post.copyright.author&apos;) + __(&apos;symbol.colon&apos;) }} &lt;/strong&gt;{#</span><br><span class="line">  #}{{ post.author | default(author) }}{#</span><br><span class="line">#}&lt;/li&gt;</span><br><span class="line">  &lt;li class=&quot;post-copyright-link&quot;&gt;</span><br><span class="line">    &lt;strong&gt;{{ __(&apos;post.copyright.link&apos;) + __(&apos;symbol.colon&apos;) }}&lt;/strong&gt;</span><br><span class="line">    &lt;a href=&quot;{{ post.url | default(post.permalink) }}&quot; title=&quot;{{ post.title }}&quot;&gt;{{ post.url | default(post.permalink) }}&lt;/a&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">  &lt;li class=&quot;post-copyright-license&quot;&gt;</span><br><span class="line">    &lt;strong&gt;{{ __(&apos;post.copyright.license_title&apos;) + __(&apos;symbol.colon&apos;) }} &lt;/strong&gt;{#</span><br><span class="line">  #}{{ __(&apos;post.copyright.license_content&apos;, theme.post_copyright.license) + theme.post_copyright.license_content }}{#</span><br><span class="line">#}&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure><p>再修改<code>themes/hexo-theme-next/_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  license_content:</span> <span class="string">作者拥有版权，转载请注明作者及出处。</span></span><br><span class="line"><span class="attr">  license:</span> <span class="string">&lt;a</span> <span class="string">href="https://creativecommons.org/licenses/by-nc-sa/4.0/"</span> <span class="string">rel="external</span> <span class="string">nofollow"</span> <span class="string">target="_blank"&gt;CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span><span class="string">&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><p>注意，为了文章链接正确，需修改<code>/home/ledong/Desktop/myBlog/blog_public/_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="attr">http://localhost:4000</span></span><br></pre></td></tr></table></figure><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><p><a href="https://blog.csdn.net/u010820857/article/details/82323096" target="_blank" rel="noopener">hexo给博客添加版权</a></p>]]></content>
    
    <summary type="html">
    
      本文主要介绍如何在Hexo中添加版权申明。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="方案改进" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%96%B9%E6%A1%88%E6%94%B9%E8%BF%9B/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置-插入各类文件</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-19-dab4328f.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-19-dab4328f.html</id>
    <published>2018-09-19T04:00:00.000Z</published>
    <updated>2018-09-19T13:44:53.974Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文所用的架构或思路参考该文：<a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></p></blockquote><h2 id="插入自己的博客或post的链接"><a class="markdownIt-Anchor" href="#插入自己的博客或post的链接"></a> 插入自己的博客或post的链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_path slug %&#125;</span><br><span class="line">&#123;% post_link slug [title] %&#125;</span><br></pre></td></tr></table></figure><p><code>post_path hello-world</code>的方式得到:<code>/2018-08-15-16107.html</code></p><p><code>post_link hello-world 世界你好！</code>的效果是:<code><a href="/publicBlog/2018-08-15-16107.html" title="世界你好！">世界你好！</a></code></p><p><a href="https://hexo.io/docs/tag-plugins" target="_blank" rel="noopener">参考:hexo-tag-plugins</a></p><h2 id="插入代码文件"><a class="markdownIt-Anchor" href="#插入代码文件"></a> 插入代码文件</h2><p>先修改总的<code>_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_dir:</span> <span class="string">./</span> <span class="comment">#表示从source目录开始</span></span><br></pre></td></tr></table></figure><p>然后在要插入代码的md文件里相对<code>source</code>目录写文件路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include_code [title] [lang:language] path/to/file %&#125;</span><br></pre></td></tr></table></figure><p><a href="https://hexo.io/docs/tag-plugins" target="_blank" rel="noopener">参考:hexo-tag-plugins</a></p><h2 id="插入markdown文件"><a class="markdownIt-Anchor" href="#插入markdown文件"></a> 插入markdown文件</h2><p>安装<code>hexo-include-markdown</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-include-markdown --save</span><br></pre></td></tr></table></figure><p>在总的<code>_config.yml</code>里添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">include_markdown:</span></span><br><span class="line"><span class="attr">  dir:</span> <span class="string">source/</span>   <span class="comment"># Base directory of template markdown</span></span><br><span class="line">  <span class="string">verbose</span> <span class="string">:</span> <span class="literal">true</span>          <span class="comment"># If you want to check the path of markdown that use &lt;!-- md --&gt; tag , please set the true.</span></span><br></pre></td></tr></table></figure><p>在md文件里添加相对于<code>source</code>的路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- md path/to/template.md --&gt;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/tea3/hexo-include-markdown" target="_blank" rel="noopener">参考:hexo-include-markdown</a></p><h2 id="插入其他文件"><a class="markdownIt-Anchor" href="#插入其他文件"></a> 插入其他文件</h2><p>插入视频、图片等等，网上可收集的实在多，不赘述。归根结底，要么写Markdown语法，要么参考官网添加tag的方式，即如下网址：</p><p><a href="https://hexo.io/docs/tag-plugins" target="_blank" rel="noopener">hexo-tag-plugins英文说明</a></p><p><a href="https://hexo.io/zh-cn/docs/tag-plugins.html" target="_blank" rel="noopener">hexo-tag-plugins中文说明</a></p>]]></content>
    
    <summary type="html">
    
      本文主要介绍如何在Hexo中插入自己博客或post的链接、Markdown文件、代码文件、图片、视频等等。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="Markdown" scheme="https://xiaotiandi.github.io/publicBlog/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置-添加评论系统-gitment和valine-需注册</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-09-19-d196c9ad.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-09-19-d196c9ad.html</id>
    <published>2018-09-19T04:00:00.000Z</published>
    <updated>2018-11-02T03:51:22.990Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文所用的架构或思路参考该文：<a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></p></blockquote><h2 id="配置方案"><a class="markdownIt-Anchor" href="#配置方案"></a> 配置方案</h2><p>安装参考如下即可——注意有坑，请继续往下看。这里LeanCloud的登录用github来注册登录即可。</p><p><a href="http://www.cnblogs.com/xcg-yg/p/8394022.html" target="_blank" rel="noopener">hexo部署github和gitment操作简单介绍</a></p><p><a href="https://github.com/imsun/gitment/issues/170" target="_blank" rel="noopener">object ProgressEvent</a></p><p><a href="https://blog.csdn.net/esa_dsq/article/details/78626509" target="_blank" rel="noopener">hexo博客评论新神器——Valine</a></p><p><a href="https://ioliu.cn/2017/add-valine-comments-to-your-blog/" target="_blank" rel="noopener">Valine – 一款极简的评论系统</a></p><h2 id="坑"><a class="markdownIt-Anchor" href="#坑"></a> 坑</h2><p>使用gitment，要先在评论区登录github，否则显示<code>Error: Comments Not Initialized</code>(中文显示<code>评论不可用</code>之类)；登录后点击<code>Initialize Comments</code>。另外可能会报错<code>[object ProgressEvent]</code>或者<code>gh-oauth.imsun.net</code>链接不上。这是因为<code>gh-oauth.imsun.net</code>网站证书失效了！解决方法：</p><p>方案一：单独访问这个网站<code>https://gh-oauth.imsun.net/</code>，加入例外，允许浏览器访问。但这个方案，别人看你博客的人不一定知道要加，所以不好。</p><p>方案二：更改<code>node_modules/gitment/dist/gitment.js</code>中<code>https://gh-oauth.imsun.net</code>，直接改为请求 github 认证的接口<code>https://github.com/login/oauth/access_token</code></p><p>参考：<a href="https://github.com/imsun/gitment/issues/102" target="_blank" rel="noopener">imsun/gitment/issues#102</a>,<a href="https://github.com/jjeejj/jjeejj.github.io/issues/8" target="_blank" rel="noopener">gitment评论模块接入hexo</a></p><h2 id="使用双评论系统"><a class="markdownIt-Anchor" href="#使用双评论系统"></a> 使用双评论系统</h2><p>此处用了gitment（稳定）和Valine（方便）。可以对<code>themes/hexo-theme-next/layout/_partials/comments.swig</code>的<code>if-else</code>语句稍微修改即可。我的改完后长这样：</p><figure class="highlight plain"><figcaption><span>comments.swig</span><a href="/publicBlog/./../themes/hexo-theme-next/layout/_partials/comments.swig">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">{% if page.comments %}</span><br><span class="line"></span><br><span class="line">  {% if theme.facebook_sdk.enable and theme.facebook_comments_plugin.enable %}</span><br><span class="line">    &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;fb-comments&quot;</span><br><span class="line">           data-href=&quot;{{ page.permalink }}&quot;</span><br><span class="line">           data-numposts=&quot;{{ theme.facebook_comments_plugin.num_of_posts }}&quot;</span><br><span class="line">           data-width=&quot;{{ theme.facebook_comments_plugin.width }}&quot;</span><br><span class="line">           data-colorscheme=&quot;{{ theme.facebook_comments_plugin.scheme }}&quot;&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  {% elseif theme.vkontakte_api.enable and theme.vkontakte_api.comments %}</span><br><span class="line">    &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;div id=&quot;vk_comments&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  {% elseif theme.disqus.enable %}</span><br><span class="line">    &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;div id=&quot;disqus_thread&quot;&gt;</span><br><span class="line">        &lt;noscript&gt;</span><br><span class="line">          Please enable JavaScript to view the</span><br><span class="line">          &lt;a href=&quot;https://disqus.com/?ref_noscript&quot;&gt;comments powered by Disqus.&lt;/a&gt;</span><br><span class="line">        &lt;/noscript&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  {% elseif theme.livere_uid %}</span><br><span class="line">    &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;div id=&quot;lv-container&quot; data-id=&quot;city&quot; data-uid=&quot;{{ theme.livere_uid }}&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  {% elseif theme.changyan.enable and theme.changyan.appid and theme.changyan.appkey %}</span><br><span class="line">    &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;div id=&quot;SOHUCS&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  {% elseif theme.gitment.enable %}</span><br><span class="line">    &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt;</span><br><span class="line">      {% if theme.gitment.lazy %}</span><br><span class="line">        &lt;div onclick=&quot;showGitment()&quot; id=&quot;gitment-display-button&quot;&gt;{{ __(&apos;gitmentbutton&apos;) }}&lt;/div&gt;</span><br><span class="line">        &lt;div id=&quot;gitment-container&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;</span><br><span class="line">      {% else %}</span><br><span class="line">        &lt;div id=&quot;gitment-container&quot;&gt;&lt;/div&gt;</span><br><span class="line">      {% endif %}</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  {% endif %}</span><br><span class="line"></span><br><span class="line">  {% if theme.valine.enable and theme.valine.appid and theme.valine.appkey %}</span><br><span class="line">    &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  {% endif %}</span><br><span class="line"></span><br><span class="line">{% endif %}</span><br></pre></td></tr></table></figure><h2 id="顺带添加leancloud文章阅读量统计待验证是否可行"><a class="markdownIt-Anchor" href="#顺带添加leancloud文章阅读量统计待验证是否可行"></a> 顺带添加LeanCloud文章阅读量统计（待验证是否可行）</h2><p>就是在配置Valine的同时，创建一个class，名叫“Counter”，这样可以和Valine共用一个app了。</p><h2 id="其他参考"><a class="markdownIt-Anchor" href="#其他参考"></a> 其他参考：</h2><p><a href="https://www.zhihu.com/question/267598518" target="_blank" rel="noopener">Hexo（NexT 主题）评论系统哪个好？</a></p><p><a href="https://blog.csdn.net/qq_32454537/article/details/79482879" target="_blank" rel="noopener">Hexo-NexT主题添加评论功能（来必力、Hypercomments、畅言、友言)</a></p>]]></content>
    
    <summary type="html">
    
      本文主要介绍如何在Hexo中搭建gitment和valine评论系统。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="坑" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置-主题管理与配置</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-08-17-f4bcb518.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-08-17-f4bcb518.html</id>
    <published>2018-08-17T04:00:00.000Z</published>
    <updated>2018-09-20T02:47:36.258Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用git管理主题"><a class="markdownIt-Anchor" href="#使用git管理主题"></a> 使用git管理主题</h2><p><a href="https://www.cnblogs.com/chenlogin/p/6592228.html" target="_blank" rel="noopener">更新远程代码到本地仓库</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin master:temp //从远程的origin仓库的master分支下载到本地并新建一个分支temp</span><br><span class="line">git diff temp//比较master分支和temp分支的不同</span><br><span class="line">git merge temp//合并temp分支到master分支</span><br><span class="line">git branch -d temp//删除temp</span><br></pre></td></tr></table></figure><p><a href="https://stackoverflow.com/questions/8544211/git-diff-gives-no-output" target="_blank" rel="noopener">如果git diff和git log没反应</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.pager 'less'</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># or</span></span></span><br><span class="line">git --no-pager diff</span><br><span class="line">git --no-pager log</span><br></pre></td></tr></table></figure><h2 id="对主题进行配置的基本思路"><a class="markdownIt-Anchor" href="#对主题进行配置的基本思路"></a> 对主题进行配置的基本思路</h2><p>先将主题目录结构调整如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">调整前</span><br><span class="line">hexo-theme-next/</span><br><span class="line">  layout/</span><br><span class="line">    _custom/</span><br><span class="line">      head.swig</span><br><span class="line">      header.swig</span><br><span class="line">      sidebar.swig</span><br><span class="line">  scripts/</span><br><span class="line">  source/</span><br><span class="line">    css/*/custom.styl</span><br><span class="line"></span><br><span class="line">调整后：</span><br><span class="line">hexo-theme-next/</span><br><span class="line">  layout/</span><br><span class="line">    _scripts/</span><br><span class="line">      pages/</span><br><span class="line">        post-details.swig (该文件已存在，但可添加对your.swig的调用)</span><br><span class="line">    _custom/</span><br><span class="line">      head.swig</span><br><span class="line">      header.swig</span><br><span class="line">      sidebar.swig</span><br><span class="line">      your.swig (新建，可以用来调用your.js,同时被例如post-details.swig等调用，需要去相应文件配置)</span><br><span class="line">  scripts/</span><br><span class="line">    custom/  (新建，这里的所有js会在网页生成前被自动调用，写就成，不用关心怎么调用)</span><br><span class="line">      yourauto.js</span><br><span class="line">  source/</span><br><span class="line">    css/*/custom.styl</span><br><span class="line">    custom/  (新建，这里的所有js会在网页生成后被调用，但是需要手动修改调用它的文件your.swig，添加调用)</span><br><span class="line">      your.js</span><br></pre></td></tr></table></figure><p>然后来个具体案例，请看：<a href="/publicBlog/2018-09-19-1985df3b.html" title="hexo博客配置-代码块折叠">hexo博客配置-代码块折叠</a></p>]]></content>
    
    <summary type="html">
    
      本文主要介绍如何在Hexo中进行主题管理与配置等。
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="想法" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E6%83%B3%E6%B3%95/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="想法" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%83%B3%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客搭建-用hexo-coding-next搭建个人博客</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-08-17-cb10f677.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-08-17-cb10f677.html</id>
    <published>2018-08-17T03:00:00.000Z</published>
    <updated>2018-11-16T10:05:23.233Z</updated>
    
    <content type="html"><![CDATA[<h2 id="总体思路"><a class="markdownIt-Anchor" href="#总体思路"></a> 总体思路</h2><ul><li><p>原则上，Hexo的运行环境与博客目录分离。</p></li><li><p>具体来讲，用Docker方式安Hexo，配置Docker里的git环境并建立与coding的链接；在本机建立博客目录，并配置主题、写博客；最后，运行，可配置快捷方式（本文是Linux系统，在<code>.bashrc</code>添加），运行博客系统或者发布博客。</p></li></ul><a id="more"></a><h2 id="安装和运行hexo"><a class="markdownIt-Anchor" href="#安装和运行hexo"></a> 安装和运行Hexo</h2><ul><li>方案一：直接安装。参考<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo中文文档——安装</a>，不赘述。</li><li>方案二：采用Docker。即采用如下的<code>dokcerfile</code>创建docker。</li></ul><div style="margin-top: -20px;"><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div><div class="fold"><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## https://blog.csdn.net/u013076044/article/details/66289301</span></span><br><span class="line"><span class="comment">## https://hub.docker.com/_/node/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> node:<span class="number">10.9</span>.<span class="number">0</span>-jessie</span><br><span class="line"></span><br><span class="line"><span class="keyword">MAINTAINER</span> ledong &lt;your@mail.com&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">4000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> REFRESHED_AT <span class="number">2018</span>-<span class="number">08</span>-<span class="number">15</span></span><br><span class="line"><span class="keyword">ENV</span> HEXOWEBSITE=/opt/websiteTest</span><br><span class="line"></span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> [<span class="variable">$&#123;HEXOWEBSITE&#125;</span>]</span></span><br><span class="line"><span class="bash">WORKDIR <span class="variable">$&#123;HEXOWEBSITE&#125;</span></span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash"><span class="comment">## https://segmentfault.com/q/1010000009487303?_ea=1946152</span></span></span><br><span class="line"><span class="bash"><span class="comment">## https://blog.csdn.net/u014792304/article/details/78687859</span></span></span><br><span class="line"><span class="bash"><span class="comment">## https://blog.csdn.net/hoshea_chx/article/details/78826689</span></span></span><br><span class="line"><span class="bash">RUN <span class="built_in">cd</span> <span class="variable">$&#123;HEXOWEBSITE&#125;</span> &amp;&amp;\</span></span><br><span class="line"><span class="bash">    npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org &amp;&amp;\</span></span><br><span class="line"><span class="bash">    npm install -g hexo-cli</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">RUN git config --global user.email <span class="string">"your@mail.com"</span> &amp;&amp;\</span></span><br><span class="line"><span class="bash">    git config --global user.name  <span class="string">"yourname"</span> &amp;&amp;\</span></span><br><span class="line"><span class="bash">    ssh-keygen -t rsa -f /root/.ssh/id_rsa -P <span class="string">""</span> -C <span class="string">"your@mail.com"</span> &amp;&amp;\</span></span><br><span class="line"><span class="bash">    cat /root/.ssh/id_rsa.pub</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">WORKDIR /opt/</span></span><br></pre></td></tr></table></figure></div><div class="fold_hider"><div class="close hider_title"><span style="color:gray;font-size:12px">点击显/隐内容</span></div></div></div><h2 id="建立一个博客目录并配next主题"><a class="markdownIt-Anchor" href="#建立一个博客目录并配next主题"></a> 建立一个博客目录并配<code>next</code>主题</h2><p>先绑定<code>~/test/</code>目录的方式进入docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -p 4000:4000 --name myblog_hexo  -v ~/<span class="built_in">test</span>/:/opt/website  myblog_hexo /bin/bash</span><br></pre></td></tr></table></figure><p>在docker里的<code>/opt/website/</code>目录下，执行如下代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo i blog</span><br><span class="line"><span class="built_in">cd</span> ~/<span class="built_in">test</span>/blog</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/hexo-theme-next</span><br></pre></td></tr></table></figure><p>这样在本地会有一个<code>~/test/blog/</code>文件夹，就是博客的主目录，修改其中的<code>_config.yml</code>更改主题</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">hexo-theme-next</span></span><br></pre></td></tr></table></figure><h2 id="运行博客"><a class="markdownIt-Anchor" href="#运行博客"></a> 运行博客</h2><p>先在Linux系统中的<code>~/.bashrc</code>中加入如下代码（注意，这里绑定了博客目录<code>~/test/blog/</code>到docker的<code>/opt/website</code>）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> hbrun=<span class="string">'docker stop myblog_hexo ; docker rm myblog_hexo ; docker run -it -p 4000:4000 --name myblog_hexo  -v ~/test/blog/:/opt/website  myblog_hexo /bin/bash  -c "ssh -T git@git.coding.net; ssh -T git@github.com; bash"'</span></span><br><span class="line"><span class="built_in">alias</span> hbs=<span class="string">'docker stop myblog_hexo ; docker start myblog_hexo; docker exec -i myblog_hexo /bin/bash -c "cd /opt/website/; hexo clean; hexo g ; hexo s"'</span></span><br><span class="line"><span class="built_in">alias</span> hb2git=<span class="string">'docker stop myblog_hexo ; docker start myblog_hexo; docker exec -i myblog_hexo /bin/bash -c "cd /opt/website/; hexo clean; hexo g ; hexo d"'</span></span><br></pre></td></tr></table></figure><p>然后，运行<code>hbrun</code>命令用于进入docker。若在本机进入<code>~/test/blog/</code>目录，运行<code>hbs</code>即可本地发布博客，浏览器输入<code>http://localhost:4000/</code>查看。而<code>hb2git</code>命令的使用，看下一部分。</p><h2 id="使用git管理hexo"><a class="markdownIt-Anchor" href="#使用git管理hexo"></a> 使用git管理Hexo</h2><p>一开始的<code>dockerfile</code>代码中，因为该docker是第一次用git，因此<code>dockerfile</code>里一定要运行如下命令(第二条可不运行)：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">"your@email"</span></span><br><span class="line">git config --global user.name <span class="string">"yourname"</span></span><br></pre></td></tr></table></figure><p>在coding上导入公钥<code>/root/.ssh/id_rsa.pub</code>后，测试是否成功（如果后面使用过程中出现连接错误，这个测试可以解决问题）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@git.coding.net</span><br><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>接着在coding上注册一个项目<code>yourblog</code>，获取链接<code>git@git.coding.net:youname/yourblog.git</code></p><p>之后，在主目录的<code>_config.yml</code>添加如下代码。注意有坑，主目录下<code>_config.yml</code>在配置deploy时要忽略掉.deploy_git文件夹，不然每次部署该目录由于递归存入会滚雪球增大。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="comment"># - type: git</span></span><br><span class="line">  <span class="comment">#   repository: git@github.com:youname/yourblog.git</span></span><br><span class="line">  <span class="comment">#   branch: master</span></span><br><span class="line"><span class="attr">  - type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">    repository:</span> <span class="string">git@git.coding.net:youname/yourblog.git</span></span><br><span class="line"><span class="attr">    branch:</span> <span class="string">master</span></span><br><span class="line"><span class="attr">  - type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">    repository:</span> <span class="string">git@git.coding.net:youname/yourblog.git</span></span><br><span class="line"><span class="attr">    branch:</span> <span class="string">hexo</span></span><br><span class="line"><span class="attr">    extend_dirs:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">    ignore_hidden:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    ignore_pattern:</span></span><br><span class="line"><span class="attr">      public:</span> <span class="string">.</span></span><br><span class="line">      <span class="string">/:</span> <span class="string">.deploy_git</span></span><br></pre></td></tr></table></figure><p>然后，运行前面提到的<code>hb2git</code>命令，就可以把生成的网页目录<code>~/test/blog/public/</code>部署到coding项目的master分支；而整个博客项目<code>~/test/blog/</code>推送到hexo分支。</p><p>经过如此一番，就可以到coding上去部署自己网页啦。即打开浏览器，进入coding刚建立的项目<code>yourblog</code>，代码-pages服务，部署来源选择master，然后可以选择https访问。</p><p>另外，遇到换电脑时，只要Hexo已经安装好，下载hexo分支即可直接得到整个博客项目。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b hexo git@git.coding.net:youname/yourblog.git</span><br></pre></td></tr></table></figure><p><strong>最后，为了管理主题方便，可用git来管理主题，请参考该文：<a href="/publicBlog/2018-08-17-f4bcb518.html" title="hexo博客配置-主题管理与配置">hexo博客配置-主题管理与配置</a></strong></p><h2 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h2><p>next主题从5到6的版本更新要注意，许多lib不能用了。<a href="https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/UPDATE-FROM-5.1.X.md" target="_blank" rel="noopener">从 NexT v5.1.x 更新</a></p><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo中文文档——安装</a></p><p><a href="https://blog.csdn.net/u013076044/article/details/66289301" target="_blank" rel="noopener">基于docker的Hexo博客系统</a></p><p><a href="https://www.cnblogs.com/vzhiwen666/p/8656114.html" target="_blank" rel="noopener">使用coding和Hexo快速搭建博客</a></p><p><a href="https://blog.csdn.net/hoshea_chx/article/details/78826689" target="_blank" rel="noopener">用Hexo + github搭建自己的博客 — 再也不用羡慕别人了</a></p><p><a href="https://blog.csdn.net/acm_th/article/details/79974513" target="_blank" rel="noopener">Hexo Next 四种主题</a></p><p><a href="https://www.jianshu.com/p/f054333ac9e6" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a></p><p><a href="https://www.jianshu.com/p/1f8107a8778c" target="_blank" rel="noopener">Hexo搭建个人博客–NexT主题优化-来自Alvabill</a></p><ul><li><a href="https://www.zhihu.com/question/21193762" target="_blank" rel="noopener">如何实现博客的public和整个Hexo备份-看知乎上“张钊”的回答</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;总体思路&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#总体思路&quot;&gt;&lt;/a&gt; 总体思路&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;原则上，Hexo的运行环境与博客目录分离。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体来讲，用Docker方式安Hexo，配置Docker里的git环境并建立与coding的链接；在本机建立博客目录，并配置主题、写博客；最后，运行，可配置快捷方式（本文是Linux系统，在&lt;code&gt;.bashrc&lt;/code&gt;添加），运行博客系统或者发布博客。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="docker" scheme="https://xiaotiandi.github.io/publicBlog/tags/docker/"/>
    
      <category term="技术构架" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%8A%80%E6%9C%AF%E6%9E%84%E6%9E%B6/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="git" scheme="https://xiaotiandi.github.io/publicBlog/tags/git/"/>
    
      <category term="coding" scheme="https://xiaotiandi.github.io/publicBlog/tags/coding/"/>
    
  </entry>
  
  <entry>
    <title>为什么用hexo-coding-next-docker构建个人博客</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-08-16-fa8e82cc.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-08-16-fa8e82cc.html</id>
    <published>2018-08-16T04:00:00.000Z</published>
    <updated>2018-09-22T03:13:19.694Z</updated>
    
    <content type="html"><![CDATA[<h2 id="为什么要写博客"><a class="markdownIt-Anchor" href="#为什么要写博客"></a> 为什么要写博客？</h2><ul><li>平时总结；</li><li>管理笔记；</li><li>锻炼分享的心态。</li></ul><h2 id="为什么用hexocodingnextdocker"><a class="markdownIt-Anchor" href="#为什么用hexocodingnextdocker"></a> 为什么用Hexo+coding+next+docker？</h2><ul><li>能在本地保存和管理博客，这是必须的！不喜欢放在各种网上，各种万一。支持标签归档、markdown，公式图表代码画图都要。开源好修改，既不傻瓜到不能配置，也不能复杂到要巨大精力投入。在网上看到用的最多的大概是Hexo和Jekyll,经过比较，选Hexo。</li><li>能够在网上展示和备份，网速好使。所以coding，感觉github好像也没问题。</li><li>用的人多，方便找资料。所以next主题。</li><li>封装好，装机不麻烦。所以用docker。</li></ul><a id="more"></a><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考：</h2><p><a href="https://www.zhihu.com/question/24629410" target="_blank" rel="noopener">如何开始写技术博客，怎么选择？知乎</a></p><p><a href="https://www.jianshu.com/p/ac89f19d07d5" target="_blank" rel="noopener">为什么选择Hexo?</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;为什么要写博客&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#为什么要写博客&quot;&gt;&lt;/a&gt; 为什么要写博客？&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;平时总结；&lt;/li&gt;
&lt;li&gt;管理笔记；&lt;/li&gt;
&lt;li&gt;锻炼分享的心态。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;为什么用hexocodingnextdocker&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#为什么用hexocodingnextdocker&quot;&gt;&lt;/a&gt; 为什么用Hexo+coding+next+docker？&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;能在本地保存和管理博客，这是必须的！不喜欢放在各种网上，各种万一。支持标签归档、markdown，公式图表代码画图都要。开源好修改，既不傻瓜到不能配置，也不能复杂到要巨大精力投入。在网上看到用的最多的大概是Hexo和Jekyll,经过比较，选Hexo。&lt;/li&gt;
&lt;li&gt;能够在网上展示和备份，网速好使。所以coding，感觉github好像也没问题。&lt;/li&gt;
&lt;li&gt;用的人多，方便找资料。所以next主题。&lt;/li&gt;
&lt;li&gt;封装好，装机不麻烦。所以用docker。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="想法" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%83%B3%E6%B3%95/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/categories/%E6%83%B3%E6%B3%95/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="https://xiaotiandi.github.io/publicBlog/tags/Hexo/"/>
    
      <category term="docker" scheme="https://xiaotiandi.github.io/publicBlog/tags/docker/"/>
    
      <category term="个人博客" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="coding" scheme="https://xiaotiandi.github.io/publicBlog/tags/coding/"/>
    
      <category term="想法" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E6%83%B3%E6%B3%95/"/>
    
      <category term="next" scheme="https://xiaotiandi.github.io/publicBlog/tags/next/"/>
    
      <category term="为什么" scheme="https://xiaotiandi.github.io/publicBlog/tags/%E4%B8%BA%E4%BB%80%E4%B9%88/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://xiaotiandi.github.io/publicBlog/2018-08-15-16107.html"/>
    <id>https://xiaotiandi.github.io/publicBlog/2018-08-15-16107.html</id>
    <published>2018-08-15T16:00:00.000Z</published>
    <updated>2018-08-20T07:23:55.134Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
